(function(t){function e(e){for(var r,o,n=e[0],c=e[1],l=e[2],d=0,p=[];d<n.length;d++)o=n[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(p.length)p.shift()();return a.push.apply(a,l||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],r=!0,n=1;n<s.length;n++){var c=s[n];0!==i[c]&&(r=!1)}r&&(a.splice(e--,1),t=o(o.s=s[0]))}return t}var r={},i={app:0},a=[];function o(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=r,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(s,r,function(e){return t[e]}.bind(null,r));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=e,n=n.slice();for(var l=0;l<n.length;l++)e(n[l]);var u=c;a.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},1:function(t,e){},1779:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAAM1BMVEWxvsa7xs7CzNPM1drT2t/a4OTd4+fn6+7g5enW3eLFz9W/ydC0wcnP1924xMvJ0tjk6OzcN6J1AAAED0lEQVR4AezBgQAAAACAoP2pF6kCAAAAAAAAAAC4vbvLgV3FgQBcCYHiLzT7X+28XWkermbOSeLYMd8OqAA2Ust9u20PR0z8R44l1AYX+n5G/ot01oFPG7/I/yGd23dXn/h/yZ/MoBX+gVTxLTXzD+XQ8Rl75l+YAd+wRf6lvMO+fvKCMmDclnjJ3GHaj5cdMOzgDVKHUT3xFnOzu37PCfREek6gJ9JzAj2RrhNIvNkc9uufo2r44wMKzNj4iB+M6JnP2GDDyYckmND4mAALMp8zoF/ggyLU65NPar43ABmdbwCy+d4AZHS9AfR3Q5WPO6BZ4uNmh16DAqrZZ7CDZ3GihO77BJC7/hrgtQ4cFJH1XwFeLwEKadCpUUjQ3wX4vAVPCknQKVIKdJqUskGjTjG7/iLgsQxUijmhUaCY6LsKksl5FSRXABpR0OY9gAZ9uvcAGgWFFYA6K4BAQcV7AHEFoM4KoFBQdv4UIFcAaqwAVgArgBXACmAFsAJokaJigyqB4oLz9atKoPEVDVpkviJDicqXVOhQ+JICFTpf06HBztfsmmqg30pYSN+XQORr4gpgBbACWJfgKoOrEVqt8HoMrefwuyZfMaFF4CuC/rkRbgYJFAVXoL9rsEKPzhd0KHJQ3AFNBsUNqHJS2GlrjK6DEatjUtAcUGckikkDGoVMETlAq01/A2S/J57Q7Od9mtxwfgIkRgl1+D4DBbp1v5PUZOpAhnY7HxWgXvb0CBa/Bg84Hy7e4Hu8fAR8b4EGE4LPDSCwBRqMqAIlwOGTaA6Y0cSbQAdzxRIs6Zl322BKEzgArpqBCHOiwK9B/LRDDQZtk3epMKm6aAEFEjhgVtW/fv0JlA7XCRwwrjpfP3BqfgHo74kbzDu9BxB5RfUeQFgBmDe9B0DnAXReUmBd4yXReRtAwrrMa3bYVknXZ6BnXtVgWeFlucOugzdI3ef67SfQC2+SBgxqmbeZO6zpJ29VOkypkzebFXa0xAfkBhtaFBgmrFeNfFCsUK3XzIfl2qHVOCcFzHNAoz1STNyhzAiZonIY0GMvfEHZnX58XdtgL3xV2Z1+fA3bYC9Uouy+Pr6CbdAK1SkNQvovU6X863jeOCbVmscQ3vvOTkJNNCBVPKNmGpGrs+ULRFAzjcnVyfIFImiJRqWG60ahYWXgot+kafOHK0akeXHo//xKN0E/+BGlax+RqXEE5zb5IXOTXb/9BLZJek5gTComMIIk8YOS2PADrYLiUfG6BtIf/KjD+QYgh8UbQP5PCSY/awpMRdVtt34FCoxl7vy07vsEkLv8CbDWCmR+Wpbvgoz1QpUfV+VHQdpqBiM/Lpq+AwVuQX6efB9oqhds/Ly2AlgBrAD+3XB+Ca4yiMSPS/hv/wEp/tUncVv5oQAAAABJRU5ErkJggg=="},"281f":function(t,e,s){t.exports=s.p+"img/loader.f9a720a9.svg"},"2e1d":function(t,e,s){t.exports=s.p+"img/template7.9920e71a.jpg"},"2fb4":function(t,e,s){},"3c29":function(t,e,s){t.exports=s.p+"img/template5.9646de7e.jpg"},4678:function(t,e,s){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=a(t);return s(e)}function a(t){if(!s.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}i.keys=function(){return Object.keys(r)},i.resolve=a,t.exports=i,i.id="4678"},"4f6f":function(t,e){function s(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}s.keys=function(){return[]},s.resolve=s,t.exports=s,s.id="4f6f"},"51ad":function(t,e,s){t.exports=s.p+"img/template4.42a5a55f.jpg"},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var r,i,a,o,n=s("2b0e"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},l=[],u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{staticClass:"flex"},[s("nav",{staticClass:"header-btn transition"},[s("router-link",{attrs:{to:"/boards"}},[t._v("Boards")])],1),s("router-link",{attrs:{to:"/"}},[s("span",{staticClass:"main-logo",attrs:{"aria-label":"logo"}},[t._v("Trellworks")])]),t.loggedInUser?s("div",{staticClass:"flex"},[s("userPic",{attrs:{size:30,user:t.loggedInUser},on:{userClicked:function(e){return t.togglePopUp(!0)}}}),t.popUpToggle?s("section",{staticClass:"pop-up about"},[s("h3",{staticClass:"pop-up-title "},[t._v("User profile")]),s("hr"),s("ul",{staticClass:"about-user"},[s("li",{staticClass:"profile flex column"},[s("section",{staticClass:"appheader-profile flex column"},[s("userPic",{staticClass:"appheader-profile",attrs:{size:50,user:t.loggedInUser}}),s("span",[t._v(t._s(t.loggedInUser.fullname))]),s("small",[t._v("Member since: "+t._s(t.time(t.loggedInUser.createdAt))+" ")])],1),s("div",{staticClass:"avatar-profile action-bar flex column"},[t._m(0),s("input",{style:{display:"none"},attrs:{type:"file",id:"file-upload"},on:{change:t.updateProfileImage}})]),s("hr"),s("button",{staticClass:"btn-gray",on:{click:t.doLogout}},[t._v("Log Out")])])])]):t._e()],1):s("section",{staticClass:"nav-side-buttons header-btn transition"},[s("router-link",{attrs:{to:"/login"}},[t._v("Log in ")])],1),t.popUpToggle?s("div",{staticClass:"pop-up-window",on:{click:function(e){return t.togglePopUp(!1)}}}):t._e(),t.isLoading?s("loader"):t._e()],1)},d=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{attrs:{for:"file-upload"}},[s("small",{staticClass:"transition action details-title"},[t._v("Edit Profile Image")])])}],p=(s("96cf"),s("1da1")),h=s("bc3a"),f=s.n(h),m=function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e){var s,r,i,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s="ywe6lwct",r="dklqusztc",i="https://api.cloudinary.com/v1_1/".concat(r,"/image/upload"),a=new FormData,a.append("file",e.target.files[0]),a.append("upload_preset",s),t.prev=6,t.next=9,f.a.post(i,a);case 9:return o=t.sent,t.abrupt("return",o.data);case 13:t.prev=13,t.t0=t["catch"](6),console.error("ERROR!",t.t0);case 16:case"end":return t.stop()}}),t,null,[[6,13]])})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},v=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"loader-window"},[r("div",{staticClass:"image"},[r("img",{attrs:{src:s("281f")}})])])}],k={},b=k,C=s("2877"),y=Object(C["a"])(b,g,v,!1,null,null,null),w=y.exports,T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{on:{click:t.userClicked}},[t.user.profileImg?s("img",{staticClass:"user-profileimg",attrs:{src:t.user.profileImg,alt:""}}):s("avatar",{attrs:{size:t.size,username:t.user.fullname}})],1)},_=[],x=(s("c5f6"),s("4a89")),B=s.n(x),A={props:{user:Object,size:Number},data:function(){return{avatarSize:null}},computed:{loggedInUser:function(){return JSON.parse(JSON.stringify(this.$store.getters.loggedinUser))}},methods:{userClicked:function(){this.$emit("userClicked")}},created:function(){},components:{Avatar:B.a}},E=A,j=Object(C["a"])(E,T,_,!1,null,null,null),S=j.exports,I=s("3dd1"),O=s.n(I),P=s("c1df"),$=s.n(P),M={data:function(){return{popUpToggle:!1,isLoading:!1}},computed:{loggedInUser:function(){return JSON.parse(JSON.stringify(this.$store.getters.loggedinUser))}},methods:{moment:function(){return $()()},time:function(t){return $()(t).format("DD.MM.YYYY")},doLogout:function(){this.$store.dispatch({type:"logout"})},togglePopUp:function(t){this.popUpToggle=t},updateProfileImage:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.prev=1,t.next=4,m(e);case 4:s=t.sent,this.loggedInUser.profileImg=s.url,this.$store.dispatch({type:"updateUser",user:this.loggedInUser}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),O.a.fire({position:"bottom-end",title:"Sorry, There was a problem with uploading your image.",showConfirmButton:!1,timer:1500,customClass:{title:"error",popup:"error"},toast:!0});case 12:return t.prev=12,this.isLoading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[1,9,12,15]])})));function e(e){return t.apply(this,arguments)}return e}()},components:{loader:w,userPic:S},created:function(){}},U=M,N=Object(C["a"])(U,u,d,!1,null,null,null),R=N.exports,D={components:{appHeader:R}},L=D,J=Object(C["a"])(L,c,l,!1,null,null,null),G=J.exports,z=s("8c4f"),F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"container home text-center"},[s("app-header"),s("main",{staticClass:"hero-container"},[s("div",{staticClass:"hero"},[s("lottie-player",{staticClass:"home-hero",attrs:{autoplay:"",loop:"",mode:"normal",speed:"0.5",src:"https://assets5.lottiefiles.com/packages/lf20_yhrzppye.json"}}),s("div",{staticClass:"cta"},[s("h1",{staticClass:"text-center"},[t._v("Take your team to new heights.")]),s("router-link",{staticClass:"action-call transition",attrs:{to:"/board/605c6ee08defda42fc5e20ee"}},[t._v("Try it now!")])],1)],1)]),t._m(0),t._m(1),t._m(2)],1)},H=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"features-container"},[s("div",{staticClass:"flex feature-content"},[s("div",{staticClass:"img-container"},[s("img",{attrs:{src:"https://www.pikpng.com/pngl/b/286-2864513_download-work-png-file-computer-work-clip-art.png",alt:""}})]),s("div",{staticClass:"txt-container"},[s("h1",[t._v("live updates and notifications")]),t._v(" Lorem, ipsum dolor sit amet consectetur adipisicing elit. Cupiditate necessitatibus adipisci dicta sequi repudiandae distinctio minima inventore consequatur ")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"features-container"},[s("div",{staticClass:"flex feature-content"},[s("div",{staticClass:"txt-container"},[s("h1",[t._v("keep track of your team (DASHBOARD)")]),t._v(" Each board has an easilly accessable dashboard to see how your team is doing. ")]),s("div",{staticClass:"img-container"},[s("img",{attrs:{src:"https://www.pikpng.com/pngl/b/286-2864513_download-work-png-file-computer-work-clip-art.png",alt:""}})])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"features-container"},[s("div",{staticClass:"flex feature-content"},[s("div",{staticClass:"img-container"},[s("img",{attrs:{src:"https://www.pikpng.com/pngl/b/286-2864513_download-work-png-file-computer-work-clip-art.png",alt:""}})]),s("div",{staticClass:"txt-container"},[s("h1",[t._v("work from anywhere(RESPONSIVENESS)")]),t._v(" Use Trellworks easily from your computer, tablet or phone. ")])])])}],W=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex board-header"},[s("div",{staticClass:"flex header-container",on:{submit:function(e){return e.preventDefault(),t.editBoardTitle(e)}}},[t.isEditing?s("input",{directives:[{name:"model",rawName:"v-model",value:t.currBoard.title,expression:"currBoard.title"}],ref:"titleInput",staticClass:"clean-input",attrs:{maxlength:"30"},domProps:{value:t.currBoard.title},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.editBoardTitle(e)},focusout:t.editBoardTitle,input:function(e){e.target.composing||t.$set(t.currBoard,"title",e.target.value)}}}):s("h2",{staticClass:"board-title",on:{click:t.getInput}},[t._v(" "+t._s(t.currBoard.title)+" ")]),s("button",{staticClass:"header-btn star",on:{click:t.starBoard}},[t.currBoard.isStarred?s("i",{staticClass:"fas fa-star"}):s("i",{staticClass:"far fa-star"})]),t.boardMembers.length?s("ul",{staticClass:"flex avatars-show"},[t._l(t.boardMembers,(function(e){return s("span",{key:e._id,staticClass:"clickable transition board-header-avatar",on:{click:function(s){return t.showProfile(e)}}},[s("userPic",{attrs:{user:e,size:30},on:{userClicked:function(s){t.currMember=e}}})],1)})),t.showMemberProfile?s("div",{staticClass:"pop-up-window",on:{click:function(e){t.showMemberProfile=!1}}}):t._e(),t.showMemberProfile?s("memberProfile",{attrs:{currMember:t.currMember},on:{closeProfile:t.hideProfile}}):t._e()],2):t._e(),s("button",{staticClass:"header-btn invite",on:{click:t.showUsers}},[s("span",{staticClass:"invite-members"})])]),s("button",{staticClass:"header-btn btn-dashboard",on:{click:function(e){t.dashboardShown=!t.dashboardShown}}},[s("i",{staticClass:"fas fa-chart-bar"})]),t.dashboardShown?s("div",{staticClass:"pop-up-window",on:{click:function(e){t.dashboardShown=!1}}}):t._e(),t.dashboardShown?s("dashboard"):t._e(),t.userAlerts>0?s("el-badge",{staticClass:"item menu-alert",attrs:{value:t.userAlerts,max:10}}):t._e(),s("button",{staticClass:"header-btn menu",on:{click:t.toggleMenu}},[s("span",{staticClass:"show-menu"})]),s("transition",{attrs:{name:"slide-from-right"}},[t.menuShown?s("boardMenu",{staticClass:"board-menu",on:{closeMenu:function(e){t.menuShown=!t.menuShown},bgcChanged:t.bgcChanged}}):t._e()],1),s("div",{class:{"pop-up-window":t.userWindow},on:{mousedown:function(e){if(e.target!==e.currentTarget)return null;t.userWindow=!t.userWindow}}},[t.userWindow?s("div",{ref:"inviteMembers",staticClass:"pop-up",style:t.setCurrPos},[s("h3",{staticClass:"pop-up-title"},[t._v("Invite to board")]),s("hr"),s("input",{directives:[{name:"model",rawName:"v-model",value:t.memberSearchTxt,expression:"memberSearchTxt"}],attrs:{type:"text",placeholder:"Search Trellworks members..."},domProps:{value:t.memberSearchTxt},on:{input:function(e){e.target.composing||(t.memberSearchTxt=e.target.value)}}}),t.memberSearchTxt?t._e():s("span",[s("h3",{staticClass:"pop-up-title"},[t._v("Suggested users")]),t._l(t.suggestedUsers,(function(e,r){return s("li",{key:r,staticClass:"search-members flex",on:{click:function(s){return t.toggleBoardMember(e)}}},[s("span",{staticClass:"flex"},[s("userPic",{attrs:{user:e,size:30}}),t.isUserInBoard(e._id)?s("i",{staticClass:"fas fa-check"}):t._e()],1),t._v(" "+t._s(e.fullname)+" ")])}))],2),s("div",t._l(t.filteredMembers,(function(e){return s("li",{key:e._id,staticClass:"search-members flex",on:{click:function(s){return t.toggleBoardMember(e)}}},[s("span",{staticClass:"flex"},[s("userPic",{attrs:{user:e,size:30}}),t.isUserInBoard(e._id)?s("i",{staticClass:"fas fa-check"}):t._e()],1),t._v(" "+t._s(e.fullname)+" ")])})),0),s("hr"),s("h3",{staticClass:"pop-up-title"},[t._v("In This Board")]),s("div",t._l(t.boardMembers,(function(e,r){return s("li",{key:r,staticClass:"search-members flex",on:{click:function(s){return t.toggleBoardMember(e)}}},[s("span",{staticClass:"flex"},[s("userPic",{attrs:{user:e,size:30}}),t.isUserInBoard(e._id)?s("i",{staticClass:"fas fa-check"}):t._e()],1),t._v(" "+t._s(e.fullname)+" "),t.boardMembers.length?t._e():s("span",[t._v("Currently no users")])])})),0)]):t._e()])],1)},q=[],Y=(s("7514"),s("20d6"),s("6762"),s("2fdb"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"menu"},[r("i",{staticClass:"fas fa-times menu-close clickable",on:{click:t.closeMenu}}),r("h1",[t._v(t._s(t.setTitle))]),r("hr"),t.openMenu.colorMenu||t.openMenu.searchTasks||t.openMenu.aboutBoard||!t.menuToggler?t._e():r("section",{staticClass:"menu-info"},[r("ul",[r("li",{on:{click:function(e){return t.toggleAboutMenu(!0)}}},[t._v("About this board")]),r("li",{on:{click:function(e){return t.toggleColorMenu(!0)}}},[t._v("Change background")]),r("li",{on:{click:function(e){return t.toggleSearchMenu(!0)}}},[t._v("Search tasks")])])]),t.openMenu.searchTasks?r("section",{staticClass:"search-menu"},[r("h1",[t._v("Search in Board")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.taskSearchTxt,expression:"taskSearchTxt"}],attrs:{type:"text",placeholder:"Search Tasks..."},domProps:{value:t.taskSearchTxt},on:{input:[function(e){e.target.composing||(t.taskSearchTxt=e.target.value)},t.searchTasks]}}),r("ul",{staticClass:"action-bar flex column"},t._l(t.tasksToShow,(function(e){return r("section",{key:e.id,staticClass:"action transition search-task-item flex column",on:{click:function(s){return t.getDetails(e)}}},[r("h4",[t._v(t._s(e.title))]),r("p",{staticClass:"flex column"},[t._v(" Created by "+t._s(t.getTaskActivity(e.id).byMember.fullname)),r("span",{staticClass:"muted-txt"},[t._v(t._s(t.time(t.getTaskActivity(e.id).createdAt)))])])])})),0)]):t._e(),t.openMenu.colorMenu?r("section",{staticClass:"color-menu"},[t.colorPicker?r("div",{style:{width:"100%"}},[t.isTemplates?r("div",{staticClass:"color-list"},t._l(9,(function(e,i){return r("li",{key:i,staticClass:"color-preview clickable",on:{click:function(e){return t.setBoardTemplate(i)}}},[r("div",{staticClass:"img-container"},[r("img",{attrs:{src:s("ca47")("./template"+i+".jpg")}})])])})),0):r("div",{staticClass:"color-list"},[t._l(t.gradientList,(function(e){return r("li",{key:e.colorName,staticClass:"color-preview clickable",on:{click:function(s){return t.setBoardGradient(e.color)}}},[r("div",{style:{backgroundImage:e.color}})])})),t._l(t.colorList,(function(e){return r("li",{key:e.color,staticClass:"color-preview clickable",on:{click:function(s){return t.setBoardColor(e.color)}}},[r("div",{style:{backgroundColor:e.color}})])}))],2)]):r("div",{staticClass:"background-options"},[r("div",{staticClass:"transition templates",on:{click:function(e){return t.toggleColorList(!0)}}},[r("div",{staticClass:"templates-image"}),r("div",{staticClass:"templates-title"},[t._v("Photos")])]),r("div",{staticClass:"transition colors",on:{click:function(e){return t.toggleColorList(!1)}}},[r("div",{staticClass:"colors-image"}),r("div",{staticClass:"colors-title"},[t._v("Colors")])])])]):t._e(),t.openMenu.aboutBoard?r("section",{staticClass:"about-menu"},[r("ul",[r("li",[t._v(t._s(t.currBoard.title))]),r("dashboard",{attrs:{isMenu:t.isMenu}})],1)]):t._e(),t.menuToggler?t._e():r("i",{staticClass:"fas fa-angle-left back-btn clickable",on:{click:function(e){return t.toggleColorMenu(!1)}}}),t.openMenu.colorMenu||t.openMenu.searchTasks||t.openMenu.aboutBoard?t._e():r("activityLog",{attrs:{activities:t.activities}})],1)}),X=[],V=(s("ac6a"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"dashboard-container"},[s("h1",[t._v("This board's stats")]),s("span",[t._v("Created at "+t._s(t.boardCreatedAt)+" ")]),t._v(" "),t.isMenu?t._e():s("span",[t._v("| ")]),s("span",[t._v(t._s(t.currBoard.members.length)+" members")]),t._v(" "),t.isMenu?t._e():s("span",[t._v("| ")]),s("span",[t._v(t._s(t.tasksLength)+" tasks")]),t._v(" "),t.isMenu?t._e():s("span",[t._v("| ")]),s("span",[t._v(t._s(t.currBoard.activities.length)+" activities")]),s("div",{staticClass:"chart-container flex"},[s("div",[s("h5",[t._v("tasks per group")]),s("tasksPerGroupChart",{staticClass:"chart",attrs:{board:t.currBoard}})],1),s("div",[s("h5",[t._v("tasks per member")]),s("tasksPerMemberChart",{staticClass:"chart",attrs:{board:t.currBoard}})],1)])])}),K=[],Q=s("1fca"),Z={props:{board:Object},extends:Q["b"],computed:{groupTitles:function(){return this.board.groups.map((function(t){return t.title}))},tasksPerGroup:function(){return this.board.groups.map((function(t){return t.task.length}))}},mounted:function(){this.renderChart({labels:this.groupTitles,datasets:[{label:"tasks per group",backgroundColor:["#d6b0b1","#8b5e83","#ffdcb8","#b67171","#6f9eaf","#d0af84","#62959c","#c7cfb7","#bb8082","#d0af84","#6e7c7c","#dddddd","#91684a"],data:this.tasksPerGroup}]})}},tt=Z,et=Object(C["a"])(tt,r,i,!1,null,null,null),st=et.exports,rt={props:{board:Object},extends:Q["a"],computed:{usernames:function(){return this.board.members.map((function(t){return t.username}))},tasksPerMember:function(){var t=this,e=[];return this.board.members.forEach((function(s){var r=0;t.board.groups.forEach((function(t){t.task.forEach((function(t){t.members.forEach((function(t){t._id===s._id&&r++}))}))})),e.push(r)})),e}},mounted:function(){this.renderChart({labels:this.usernames,datasets:[{label:"tasks per member",backgroundColor:["#cee6b4","#bb8082","#ecb390","#a3ddcb","#387c6d","#d0af84","#ffe6e6","#65d6ce","#bb8082","#d0af84","#6e7c7c","#dddddd","#9e7540"],data:this.tasksPerMember}]},{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}})}},it=rt,at=Object(C["a"])(it,a,o,!1,null,null,null),ot=at.exports,nt={props:{isMenu:Boolean},data:function(){return{toggleDashboard:!0}},computed:{currBoard:function(){return this.$store.getters.currBoard},tasksLength:function(){for(var t=this.$store.getters.currBoard,e=0,s=0;s<t.groups.length;s++)e+=t.groups[s].task.length;return e},boardCreatedAt:function(){return this.time(this.$store.getters.currBoard.createdAt)},isFromMenu:function(){}},methods:{moment:function(){return $()()},time:function(t){return $()(t).format("DD.MM.YYYY")}},components:{tasksPerGroupChart:st,tasksPerMemberChart:ot}},ct=nt,lt=Object(C["a"])(ct,V,K,!1,null,null,null),ut=lt.exports;s("8e6e"),s("456d"),s("2909"),s("ade3");function dt(t,e){localStorage.setItem(t,JSON.stringify(e))}var pt=[{title:"My new board",createdAt:1616402284269,labels:[{title:"",color:"#61bd4f",colorName:"green",id:"l101"},{title:"",color:"#f2d600",colorName:"yellow",id:"l102"},{title:"",color:"#ff9f1a",colorName:"orange",id:"l103"},{title:"",color:"#eb5a46",colorName:"red",id:"l104"},{title:"",color:"#c377e0",colorName:"purple",id:"l105"},{title:"",color:"#0079bf",colorName:"blue",id:"l106"}],groups:[{id:"wiqIB",style:{},title:"My new list",task:[{id:"um96X",title:"Task",dueDate:"",labelIds:[],description:"",checklists:[],members:[],imgs:[]},{id:"0dzCo",title:"Another task",dueDate:"",labelIds:[],description:"",checklists:[],members:[],imgs:[]}]},{id:"WKaI5",style:{},title:"My new list",task:[{id:"2PVU3",title:"Add tasks here",dueDate:"",labelIds:[],description:"",checklists:[],members:[],imgs:[]}]},{id:"FgTIF",style:{},title:"New list name",task:[{id:"h24XH",title:"We have new tasks",dueDate:"",labelIds:[],description:"",checklists:[],members:[],imgs:[]}]}],styles:{backgroundColor:"#344563"},members:[{_id:"u102",fullname:"Almog Lemberg",imgUrl:"https://www.google.com"},{_id:"u103",fullname:"Gali Nickel",imgUrl:"https://www.google.com"},{_id:"u101",fullname:"Guy Zohar",imgUrl:"https://www.google.com"}],activities:[{byMember:{fullname:"Guest"},title:"changed this board`s background color",createdAt:1616402326991,id:"iogIK",task:{id:"",title:""}},{byMember:{fullname:"Guest"},title:"renamed a group in the board",createdAt:1616402317447,group:"New list name",id:"ul4GP",task:{id:"",title:""}},{byMember:{fullname:"Guest"},title:'added the task "We have new tasks" in "My new list"',createdAt:1616402312473,group:"My new list",id:"VqbHB",task:{id:"h24XH",title:"We have new tasks"}},{byMember:{fullname:"Guest"},title:'added the task "Add tasks here" in "My new list"',createdAt:1616402305381,group:"My new list",id:"6Qe2W",task:{id:"2PVU3",title:"Add tasks here"}},{byMember:{fullname:"Guest"},title:'added the task "Another task" in "My new list"',createdAt:1616402300387,group:"My new list",id:"LmAhq",task:{id:"0dzCo",title:"Another task"}},{byMember:{fullname:"Guest"},title:'added the task "Task" in "My new list"',createdAt:1616402295872,group:"My new list",id:"Wbens",task:{id:"um96X",title:"Task"}},{byMember:{fullname:"Guest"},title:'added the group "My new list" to the board',createdAt:1616402289617,group:"My new list",id:"KJrLg",task:{id:"",title:""}},{byMember:{fullname:"Guest"},title:'added the group "My new list" to the board',createdAt:1616402288872,group:"My new list",id:"6kIEO",task:{id:"",title:""}},{byMember:{fullname:"Guest"},title:'added the group "My new list" to the board',createdAt:1616402288192,group:"My new list",id:"Ldq16",task:{id:"",title:""}},{id:"sJQ8e",title:"This board was created",createdAt:1616402284269,byMember:{fullname:"Guest"},task:{id:"",title:""}}],_id:"YhGzf"}];function ht(){var t=JSON.parse(localStorage.getItem("boards"));return t&&t.length||(console.log("loaded initial db"),t=pt,dt("boards",pt)),Promise.resolve(t)}ht();var ft=s("53ca"),mt={delay:gt,getRandomInt:vt,makeId:kt,deepCopy:bt};function gt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500;return new Promise((function(e){setTimeout(e,t)}))}function vt(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t)+t)}function kt(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<t;r++)e+=s.charAt(Math.floor(Math.random()*s.length));return e}function bt(t){var e,s,r;if("object"!==Object(ft["a"])(t)||null===t)return t;for(r in e=Array.isArray(t)?[]:{},t)s=t[r],e[r]=bt(s);return e}var Ct="/api/",yt=f.a.create({withCredentials:!0}),wt={get:function(t,e){return Tt(t,"GET",e)},post:function(t,e){return Tt(t,"POST",e)},put:function(t,e){return Tt(t,"PUT",e)},delete:function(t,e){return Tt(t,"DELETE",e)}};function Tt(t){return _t.apply(this,arguments)}function _t(){return _t=Object(p["a"])(regeneratorRuntime.mark((function t(e){var s,r,i,a=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=a.length>1&&void 0!==a[1]?a[1]:"GET",r=a.length>2&&void 0!==a[2]?a[2]:null,t.prev=2,t.next=5,yt({url:"".concat(Ct).concat(e),method:s,data:r,params:"GET"===s?r:null});case 5:return i=t.sent,t.abrupt("return",i.data);case 9:throw t.prev=9,t.t0=t["catch"](2),console.log("Had Issues ".concat(s,"ing to the backend, endpoint: ").concat(e,", with data: ").concat(r)),console.dir(t.t0),t.t0;case 14:case"end":return t.stop()}}),t,null,[[2,9]])}))),_t.apply(this,arguments)}var xt="board/",Bt={query:At,getById:jt,remove:It,save:Mt,addBoard:Pt,getEmptyTask:Dt,getEmptyGroup:Rt,getEmptyLabel:Ft,getDefaultLabels:Jt,getLabelColorById:Lt,getAllColors:zt,getAllGradients:Gt};function At(t){return Et.apply(this,arguments)}function Et(){return Et=Object(p["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",wt.get(xt,e));case 1:case"end":return t.stop()}}),t)}))),Et.apply(this,arguments)}function jt(t){return St.apply(this,arguments)}function St(){return St=Object(p["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",wt.get("board/".concat(e)));case 1:case"end":return t.stop()}}),t)}))),St.apply(this,arguments)}function It(t){return Ot.apply(this,arguments)}function Ot(){return Ot=Object(p["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",wt.delete("board/".concat(e)));case 1:case"end":return t.stop()}}),t)}))),Ot.apply(this,arguments)}function Pt(t){return $t.apply(this,arguments)}function $t(){return $t=Object(p["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Mt(Nt(e));case 2:case"end":return t.stop()}}),t)}))),$t.apply(this,arguments)}function Mt(t){return Ut.apply(this,arguments)}function Ut(){return Ut=Object(p["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e._id){t.next=4;break}return t.abrupt("return",wt.post(xt,e));case 4:return t.abrupt("return",wt.put(xt+e._id,e));case 5:case"end":return t.stop()}}),t)}))),Ut.apply(this,arguments)}function Nt(t){var e="000"===t._id?[]:[t];return{title:"My new board",createdAt:Date.now(),labels:Jt(),groups:[],styles:{backgroundColor:"#61bd4f",backgroundImage:""},members:e,activities:[{id:mt.makeId(),title:"created this board",createdAt:Date.now(),byMember:t,task:{id:"",title:""}}],isStarred:!1}}function Rt(){return{id:mt.makeId(),style:{},title:"My new list",task:[]}}function Dt(){return{id:mt.makeId(),createdAt:Date.now(),title:"",dueDate:"",isCompleted:!1,labelIds:[],description:"",checklists:[],members:[],imgs:[],cover:{isImg:!1,type:"top",src:""}}}function Lt(t,e){return t.labels.find((function(t){return t.id===e}))}function Jt(){var t=[{color:"#61bd4f",colorName:"green",id:"l101"},{color:"#f2d600",colorName:"yellow",id:"l102"},{color:"#ff9f1a",colorName:"orange",id:"l103"},{color:"#eb5a46",colorName:"red",id:"l104"},{color:"#c377e0",colorName:"purple",id:"l105"},{color:"#0079bf",colorName:"blue",id:"l106"}];return t.map((function(t){return Ft(t.color,t.colorName,t.id)}))}function Gt(){return[{color:"linear-gradient(to left,#856368,#796f9e)",colorName:"gradient-1"},{color:"linear-gradient(to left, #b2b58c, #c7809b )",colorName:"gradient-2"},{color:"linear-gradient(to left,   #b1c5b5, #5c8f95 )",colorName:"gradient-3"},{color:"linear-gradient(to left,#f1cdd4,#c35432)",colorName:"gradient-4"},{color:"linear-gradient(to right top, #38438b, #944b94, #d75a88, #ff7e71, #ffb25f, #ffeb68)",colorName:"gradient-5"},{color:"linear-gradient(to right top, #6d327c, #485DA6, #00a1ba, #00BF98, #36C486)",colorName:"gradient-6"},{color:"linear-gradient(to right top, #0bff00, #ddc700, #ff7500, #ff0072, #eb12cf)",colorName:"gradient-7"},{color:"linear-gradient(to left bottom, #03c1c9, #00d8bc, #3aeb98, #93f962, #e9ff00)",colorName:"gradient-8"}]}function zt(){return[{color:"#61bd4f",colorName:"green"},{color:"#f2d600",colorName:"yellow"},{color:"#ff9f1a",colorName:"orange"},{color:"#eb5a46",colorName:"red"},{color:"#c377e0",colorName:"purple"},{color:"#0079bf",colorName:"blue"},{color:"#00c2e0",colorName:"skyblue"},{color:"#51e898",colorName:"lime"},{color:"#ff78cb",colorName:"pink"},{color:"#344563",colorName:"black"}]}function Ft(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0;return{title:"",color:t,colorName:e,id:s}}var Ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"activity-log"},[s("i",{staticClass:"far fa-list-alt fa-lg"}),s("h2",{staticClass:"details-title"},[t._v("Activity Log")]),t.showtoggleActivity?s("span",{staticClass:"flex activitylog-commenttoggle"},[s("h3",{staticClass:"uppercase-title"},[t._v("Show Activity")]),s("el-switch",{style:{paddingBottom:"6px"},attrs:{"active-color":"#13ce66","inactive-color":"#eaecf0"},on:{change:t.toggleActivity},model:{value:t.showComments,callback:function(e){t.showComments=e},expression:"showComments"}})],1):t._e(),t._l(t.activities,(function(e){return s("section",{key:e.id,staticClass:"activity-container"},[s("section",{staticClass:"flex activity",class:{comment:e.isComment},staticStyle:{"margin-bottom":"0"}},[s("span",{staticClass:"avatar"},[s("userPic",{attrs:{user:e.byMember,size:30}})],1),s("span",{staticClass:"flex activity-details"},[s("span",[s("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(e.byMember.fullname)+" ")]),t._v(" "+t._s(e.title)+" ")]),s("span",{staticClass:"activity-time flex"},[s("span",{staticClass:"muted-txt"},[t._v(t._s(t.time(e.createdAt)))]),e.isComment?s("p",{staticClass:"clickable",staticStyle:{margin:"0 8px"},on:{click:function(s){return t.replyToComment(e.id)}}},[t._v("Reply ")]):t._e()])])]),e.replies?s("section",{staticClass:"comment reply",staticStyle:{"margin-left":"25px"}},t._l(e.replies,(function(e,r){return s("span",{key:r,staticClass:"flex activity",staticStyle:{"margin-top":"0"}},[s("span",{staticClass:"avatar"},[s("userPic",{attrs:{user:e.byMember,size:30}})],1),s("span",{staticClass:"flex activity-details"},[s("span",[s("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(e.byMember.fullname)+" ")]),t._v(" "+t._s(e.title)+" ")]),s("span",{staticClass:"activity-time flex"},[s("span",{staticClass:"muted-txt"},[t._v(t._s(t.time(e.createdAt)))])])])])})),0):t._e()])}))],2)},Wt=[],qt={props:{activities:Array,showtoggleActivity:Boolean},data:function(){return{showComments:!0}},methods:{moment:function(){return $()()},time:function(t){return $()(t).fromNow()},replyToComment:function(t){this.$emit("replyClicked",t)},toggleActivity:function(){this.$emit("toggleActivity",this.showComments)}},components:{userPic:S}},Yt=qt,Xt=Object(C["a"])(Yt,Ht,Wt,!1,null,null,null),Vt=Xt.exports,Kt={data:function(){return{openMenu:{colorMenu:!1,searchTasks:!1,aboutBoard:!1},colorPicker:!1,colorList:Bt.getAllColors(),gradientList:Bt.getAllGradients(),isTemplates:!1,taskSearchTxt:"",tasksToShow:[],isMenu:!0}},computed:{activities:function(){var t=this.$store.getters.activityLog.filter((function(t){return!t.isComment})),e=t.slice(0,25);return e},menuToggler:function(){return!(this.openMenu.colorMenu||this.openMenu.searchTasks||this.openMenu.aboutBoard)},setTitle:function(){return this.openMenu.colorMenu?"Change background":"Menu"},currBoard:function(){return JSON.parse(JSON.stringify(this.$store.getters.currBoard))}},methods:{getTaskActivity:function(t){var e=this.currBoard.activities.filter((function(e){return e.task.id===t}));return e[0]},moment:function(){return $()()},time:function(t){return $()(t).fromNow()},toggleColorMenu:function(t){this.openMenu.searchTasks=!1,this.colorPicker=!1,this.openMenu.aboutBoard=!1,this.openMenu.colorMenu=t},toggleSearchMenu:function(t){this.openMenu.colorMenu=!1,this.colorPicker=!1,this.openMenu.aboutBoard=!1,this.openMenu.searchTasks=t},toggleAboutMenu:function(t){this.openMenu.colorMenu=!1,this.colorPicker=!1,this.openMenu.searchTasks=!1,this.openMenu.aboutBoard=t},getDetails:function(t){this.$router.push("/board/".concat(this.currBoard._id,"/details/").concat(t.id)),this.closeMenu()},toggleColorList:function(t){this.colorPicker=!0,this.isTemplates=t,console.log("colorpicker",this.colorPicker,"istemplates",this.isTemplates,"openmenu",this.openMenu.colorMenu)},setBoardColor:function(t){this.currBoard.styles.backgroundGradient="",this.currBoard.styles.backgroundColor=t,this.currBoard.styles.backgroundImage="",this.$store.dispatch({type:"updateBoard",editedBoard:this.currBoard}),this.$emit("bgcChanged")},setBoardTemplate:function(t){this.currBoard.styles.backgroundImage=t,this.currBoard.styles.backgroundColor="",this.currBoard.styles.backgroundGradient="",this.$store.dispatch({type:"updateBoard",editedBoard:this.currBoard}),this.$emit("bgcChanged")},setBoardGradient:function(t){this.currBoard.styles.backgroundColor="",this.currBoard.styles.backgroundGradient=t,this.currBoard.styles.backgroundImage="",this.$store.dispatch({type:"updateBoard",editedBoard:this.currBoard}),this.$emit("bgcChanged")},closeMenu:function(){this.$emit("closeMenu")},getActivities:function(){var t=this.activities.filter((function(t){return!t.isComment}));return t},searchTasks:function(){var t=this,e=this.taskSearchTxt,s=this.currBoard;this.tasksToShow=[],e&&s.groups.forEach((function(s){return s.task.forEach((function(s){s.title.toLowerCase().includes(e.toLowerCase())&&t.tasksToShow.push(s)}))}))}},components:{activityLog:Vt,dashboard:ut},created:function(){}},Qt=Kt,Zt=Object(C["a"])(Qt,Y,X,!1,null,null,null),te=Zt.exports,ee=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"member-miniprofile"},[s("h3",{staticClass:"pop-up-title"},[t._v("Board Member")]),s("i",{staticClass:"fas fa-times details-close clickable",on:{click:t.closeProfile}}),s("hr"),s("section",{staticClass:"flex"},[t.currMember.profileImg?s("img",{staticClass:"user-profileimg",attrs:{src:t.currMember.profileImg,alt:""}}):s("avatar",{attrs:{size:30,username:t.currMember.fullname}}),s("h5",[t._v(t._s(t.currMember.fullname))])],1)])},se=[],re={props:{currMember:{type:Object}},data:function(){return{}},methods:{closeProfile:function(){this.$emit("closeProfile")}},components:{Avatar:B.a}},ie=re,ae=Object(C["a"])(ie,ee,se,!1,null,null,null),oe=ae.exports,ne={data:function(){return{dashboardShown:!1,menuShown:!1,isEditing:!1,showMemberProfile:!1,currMember:null,userWindow:!1,memberSearchTxt:"",setPos:{x:0,y:0},currClientHeight:0,popUpHeight:0,userAlerts:0}},computed:{boardMembers:function(){return this.$store.getters.currBoardMembers},users:function(){return this.$store.getters.users},currBoard:function(){return JSON.parse(JSON.stringify(this.$store.getters.currBoard))},filteredMembers:function(){var t=this;if(this.memberSearchTxt)return this.users.filter((function(e){return e.fullname.toLowerCase().includes(t.memberSearchTxt.toLowerCase())}))},suggestedUsers:function(){for(var t=[],e=0;e<4;e++)t.push(this.users[mt.getRandomInt(0,this.users.length)]);return t},setCurrPos:function(){return{left:this.setPos.x+"px",top:this.setPos.y+"px"}},loggedInUser:function(){return JSON.parse(JSON.stringify(this.$store.getters.loggedinUser))}},methods:{updateUserAlerts:function(){var t=this.loggedInUser;t&&t!==[]&&t.notifications&&(this.userAlerts=t.notifications.alerts.length)},bgcChanged:function(){this.$emit("changeBgc")},loadUsers:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch({type:"loadUsers"});case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),editBoardTitle:function(){this.isEditing=!this.isEditing,this.$emit("boardTitleUpdated",this.currBoard.title)},showProfile:function(t){this.currMember=t,this.showMemberProfile=!0},hideProfile:function(){this.showMemberProfile=!1},getInput:function(){var t=this;this.isEditing=!this.isEditing,setTimeout((function(){t.$refs.titleInput.focus()}),0)},showUsers:function(t){var e=this;this.memberSearchTxt="",this.userWindow=!this.userWindow,setTimeout((function(){e.popUpHeight=e.$refs.inviteMembers.clientHeight,e.calcPos(t),e.currClientHeight-e.setPos.y<e.popUpHeight&&(e.setPos.y-=50),e.currClientHeight-e.setPos.y<e.popUpHeight&&e.currClientHeight+e.setPos.y>e.popUpHeight||(e.setPos.y+=e.popUpHeight/2)}),0)},calcPos:function(t){this.currClientHeight=t.view.innerHeight,this.currClientWidth=t.view.innerWidth,this.currClientWidth!==t.view.innerWidth&&(this.setPos.x=t.pageX+150),this.setPos.y=t.pageY,this.setPos.x=t.pageX+150},toggleBoardMember:function(t,e){var s=this.currBoard.members.findIndex((function(e){return e._id===t._id}));if(-1!==s)return this.currBoard.members.splice(s,1),this.$emit("updateBoard",this.currBoard),void this.$emit("updateBoardSocket",this.currBoard);this.currBoard.members.push(t),this.$emit("updateBoard",this.currBoard),this.$emit("updateBoardSocket",this.currBoard)},starBoard:function(){this.currBoard.isStarred=!this.currBoard.isStarred,this.$emit("updateBoard",this.currBoard)},isUserInBoard:function(t){var e=this.currBoard.members.find((function(e){return e._id===t}));return!!e},toggleMenu:function(){this.menuShown=!this.menuShown;var t=this.loggedInUser;t&&t!==[]&&t.notifications&&(t.notifications.alerts=[],this.$store.dispatch({type:"updateUser",user:t}),this.updateUserAlerts())}},created:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.loadUsers();case 2:this.updateUserAlerts();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),watch:{loggedInUser:function(){this.updateUserAlerts()}},destroyed:function(){this.memberSearchTxt=""},components:{boardMenu:te,memberProfile:oe,dashboard:ut,userPic:S}},ce=ne,le=Object(C["a"])(ce,W,q,!1,null,null,null),ue=le.exports,de={name:"home",data:function(){return{}},computed:{boards:function(){this.$store.getters.boards}},created:function(){},methods:{},components:{appHeader:R,boardHeader:ue}},pe=de,he=Object(C["a"])(pe,F,H,!1,null,null,null),fe=he.exports,me=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"login-signup"},[r("appHeader"),t.isLogin?r("div",{staticClass:"form-wrapper login"},[r("form",{on:{submit:function(e){return e.preventDefault(),t.doLogin(e)}}},[r("h2",[t._v("Login")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.loginCred.username,expression:"loginCred.username"}],attrs:{type:"text",placeholder:"User name",required:""},domProps:{value:t.loginCred.username},on:{input:function(e){e.target.composing||t.$set(t.loginCred,"username",e.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.loginCred.password,expression:"loginCred.password"}],attrs:{type:"password",placeholder:"Password",required:""},domProps:{value:t.loginCred.password},on:{input:function(e){e.target.composing||t.$set(t.loginCred,"password",e.target.value)}}}),r("button",{attrs:{type:"submit"}},[t._v("Login")])]),r("span",[t._v("Don't have an account? "),r("span",{staticClass:"clickable bold",on:{click:function(e){t.isLogin=!1}}},[t._v("Sign Up")])])]):r("div",{staticClass:"form-wrapper signup"},[r("h2",[t._v("Register")]),r("div",{staticClass:"form"},[r("form",{on:{submit:function(e){return e.preventDefault(),t.doSignup(e)}}},[r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.fullname,expression:"signupCred.fullname"}],attrs:{type:"text",placeholder:"Your full name",required:""},domProps:{value:t.signupCred.fullname},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"fullname",e.target.value)}}})]),r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.username,expression:"signupCred.username"}],attrs:{type:"text",placeholder:"Username",required:""},domProps:{value:t.signupCred.username},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"username",e.target.value)}}})]),r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.password,expression:"signupCred.password"}],attrs:{type:"password",placeholder:"Password",required:""},domProps:{value:t.signupCred.password},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"password",e.target.value)}}})]),r("button",{attrs:{type:"submit"}},[t._v("Signup")])]),r("div",{staticClass:"profile-image"},[r("label",{attrs:{for:"file-upload"}},[r("div",{staticClass:"image",style:t.profileToShow},[this.signupCred.profileImg?r("img",{attrs:{src:t.profileToShow}}):r("img",{attrs:{src:s("1779")}})]),r("a",{staticClass:"clickable"},[t._v("Add a profile image")])]),r("input",{style:{display:"none"},attrs:{type:"file",id:"file-upload"},on:{change:t.addProfileImage}})])]),r("span",[t._v("Have an account? "),r("span",{staticClass:"clickable bold",on:{click:function(e){t.isLogin=!0}}},[t._v("Log in")])])]),t.isLoading?r("loader"):t._e()],1)},ge=[],ve=(s("415b"),{name:"test",data:function(){return{loginCred:{username:"",password:""},signupCred:{username:"",password:"",fullname:"",profileImg:""},isLogin:!0,isLoading:!1}},computed:{users:function(){return this.$store.getters.users},loggedinUser:function(){return this.$store.getters.loggedinUser},profileToShow:function(){return this.signupCred.profileImg}},created:function(){this.loadUsers()},methods:{doLogin:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$store.dispatch({type:"login",userCred:this.loginCred});case 3:this.$router.push("/"),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),this.showErrorMsg("Failed to log in. please re-check your entered username and password");case 9:case"end":return t.stop()}}),t,this,[[0,6]])})));function e(){return t.apply(this,arguments)}return e}(),doSignup:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$store.dispatch({type:"signup",userCred:this.signupCred});case 3:this.$router.push("/"),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),this.showErrorMsg(t.t0.response.data.err);case 9:case"end":return t.stop()}}),t,this,[[0,6]])})));function e(){return t.apply(this,arguments)}return e}(),loadUsers:function(){this.$store.dispatch({type:"loadUsers"})},addProfileImage:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.prev=1,t.next=4,m(e);case 4:s=t.sent,this.signupCred.profileImg=s.url,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),this.showErrorMsg("Sorry, there was a problem uploading your image.");case 11:return t.prev=11,this.isLoading=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,this,[[1,8,11,14]])})));function e(e){return t.apply(this,arguments)}return e}(),showErrorMsg:function(t){O.a.fire({position:"bottom-end",title:t,showConfirmButton:!1,timer:2500,timerProgressBar:!0,customClass:{title:"error",popup:"error"},toast:!0})}},components:{loader:w,appHeader:R}}),ke=ve,be=Object(C["a"])(ke,me,ge,!1,null,null,null),Ce=be.exports,ye=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.currBoard?s("section",{staticClass:"board-main transition flex column",class:t.backgroundImg,style:t.backgroundToShow,attrs:{board:t.currBoard}},[s("app-header"),s("board-header",{on:{boardTitleUpdated:t.updateBoardTitle,changeBgc:t.changeBgc,updateBoard:t.updateBoard,updateBoardSocket:t.updateBoardSocket,filterBoard:t.changeGroupsToShow}}),s("div",{directives:[{name:"dragscroll",rawName:"v-dragscroll:firstchilddrag",arg:"firstchilddrag"}],staticClass:"flex board group-container"},[s("draggable",{staticClass:"flex",attrs:{animation:"300",ghostClass:"group-ghost",handle:".handle","stop-propagation":"true"},on:{end:t.draggingEnd},model:{value:t.currBoard.groups,callback:function(e){t.$set(t.currBoard,"groups",e)},expression:"currBoard.groups"}},t._l(t.currBoard.groups,(function(e,r){return s("group",{key:e.id,staticStyle:{height:"fit-content"},attrs:{group:e,board:t.currBoard,groupIdx:r},on:{taskDragged:t.draggedTask,removeGroup:t.removeGroup,addTask:t.addTask,titleChange:t.changeTitle,toggleTaskCompletion:t.toggleTaskCompleted,sortGroup:t.saveGroupSort,taskEdited:t.taskEdited}})})),1),s("span",[s("section",{staticClass:"transition group group-add",class:t.showAdd,on:{click:t.openGroupAdder}},[s("section",{staticClass:"flex group-header add"},[t.showGroupToAdd?s("section",{staticClass:"add-group-title flex column",class:{"transition-add-group":t.showGroupToAdd}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.groupTitleToAdd,expression:"groupTitleToAdd"}],ref:"groupAddTxt",attrs:{type:"text",placeholder:"Enter list title..."},domProps:{value:t.groupTitleToAdd},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addGroup(e)},input:function(e){e.target.composing||(t.groupTitleToAdd=e.target.value)}}}),s("button",{staticClass:"btn-success",on:{click:t.addGroup}},[t._v("Add list")]),s("i",{staticClass:"fas fa-times",on:{mouseup:function(e){t.showGroupToAdd=!1}}})]):s("p",{staticClass:"group-title"},[s("i",{staticClass:"fas fa-plus"}),t._v("Add another list ")])])])])],1),s("router-view",{on:{updateBoardSocket:t.updateBoardSocket}}),t.isLoading?s("loader"):t._e()],1):t._e()},we=[],Te=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[t.openPopUp?s("div",{staticClass:"pop-up-window",on:{click:function(e){t.openPopUp=!1}}}):t._e(),t.group?s("div",{staticClass:"group handle flex column"},[s("section",{staticClass:"flex group-header transition"},[t.toggleTitleEdit?s("textarea-autosize",{ref:"editTitle",staticClass:"clean-input group-title",attrs:{rows:"1","max-height":350,spellcheck:"false"},nativeOn:{focusout:function(e){return t.titleChange(t.group.id)},keypress:function(e){return t.titleChangeByKey(t.group.id,e)}},model:{value:t.group.title,callback:function(e){t.$set(t.group,"title",e)},expression:"group.title"}}):s("p",{staticClass:"clean-input group-title",on:{click:t.toggleEditter}},[t._v(" "+t._s(t.group.title)+" ")]),s("span",{staticClass:"group-header-trash",on:{click:function(e){return e.stopPropagation(),t.togglePopUp(!0,e)}}},[s("i",{staticClass:"fas fa-ellipsis-h"})])],1),s("draggable",{attrs:{group:"task",animation:"400",ghostClass:"task-ghost"},on:{end:t.itemsDragged},model:{value:t.group.task,callback:function(e){t.$set(t.group,"task",e)},expression:"group.task"}},t._l(t.group.task,(function(e){return s("task-preview",{key:e.id,attrs:{task:e,groupId:t.group.id},on:{updateDueDate:t.updatedDueDate,taskEdited:t.taskEdited}})})),1),t.isAddingTask?t._e():s("span",{staticClass:"open-task-composer clickable",on:{click:function(e){return t.openAddTask(t.group.id)}}},[s("i",{staticClass:"fas fa-plus"}),t._v(" Add another task")]),t.isAddingTask?s("div",{staticClass:"add-task-container"},[s("textarea-autosize",{ref:"textarea",staticClass:"task-preview add-task",attrs:{placeholder:"Your task title here...",rows:"2",cols:"29",spellcheck:"false"},nativeOn:{keyup:function(e){return t.addTaskByKey(e,t.group.id)}},model:{value:t.taskToAdd.title,callback:function(e){t.$set(t.taskToAdd,"title",e)},expression:"taskToAdd.title"}}),s("div",{staticClass:"add-task-footer"},[s("button",{staticClass:"btn-success",on:{click:function(e){return t.addTask(t.group.id)}}},[t._v(" Add task ")]),s("i",{staticClass:"fas fa-times clickable",on:{click:t.closeAddTask}})])],1):t._e()],1):t._e(),t.openPopUp?s("popUp",{staticClass:"quickmenu-popup",style:t.setCurrPos,on:{closePopUp:function(e){return t.togglePopUp(!1)}},scopedSlots:t._u([{key:"header",fn:function(){return[t.sortVisible?s("span",{staticClass:"bold",on:{click:function(e){t.sortVisible=!1}}},[t._v("  ")]):t._e(),t._v(" Options")]},proxy:!0}],null,!1,453366907)},[t.sortVisible?s("section",[s("p",{staticClass:"clickable",on:{click:function(e){return t.sortGroup("alphabetically")}}},[t._v(" Alphabetically ")]),s("p",{staticClass:"clickable",on:{click:function(e){return t.sortGroup("timeNewest")}}},[t._v("Newest First")]),s("p",{staticClass:"clickable",on:{click:function(e){return t.sortGroup("timeOldest")}}},[t._v("Oldest First")])]):s("section",[s("span",{staticClass:"flex menu-item transition clickable"},[s("i",{staticClass:"fas fa-pencil-alt"}),s("p",{on:{click:t.toggleEditter}},[t._v("Edit Title")])]),t.group.task.length>1?s("span",{staticClass:"flex menu-item transition clickable",on:{click:function(e){t.sortVisible=!0}}},[s("i",{staticClass:"fas fa-sort"}),s("p",[t._v("Sort")])]):t._e(),s("span",{staticClass:"flex menu-item transition clickable"},[s("i",{staticClass:"fas fa-plus"}),s("p",{on:{click:t.openAddTask}},[t._v("Add Task")])]),s("span",{staticClass:"flex menu-item transition clickable",on:{click:function(e){return t.removeGroup(t.group.id)}}},[s("i",{staticClass:"far fa-trash-alt"}),s("p",[t._v("Delete List")])])])]):t._e()],1)},_e=[],xe=(s("55dd"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"task-preview clickable",class:t.setCoverImgFull,style:t.bgcToShow,on:{mouseover:function(e){return t.toggleEditPen(!0)},mouseleave:function(e){return t.toggleEditPen(!1)},contextmenu:function(e){e.preventDefault(),t.showEdit=!0},click:t.getDetails}},[t.showEdit?s("quick-edit",{attrs:{task:t.task},on:{quickEdited:t.taskEdited,toggleEdit:t.toggleEdit}}):t._e(),t.task.cover.src&&t.typeTop?s("div",{staticClass:"top-cover"},[t.task.cover.isImg?t._e():s("div",{staticClass:"cover-color",style:{backgroundColor:t.task.cover.src}}),t.task.cover.isImg?s("div",{staticClass:"cover-img"},[t.task.cover.isNote?s("img",{attrs:{src:"data:image/png;base64,"+t.task.cover.src,alt:""}}):s("img",{attrs:{src:t.task.cover.src}})]):t._e()]):t._e(),s("div",{staticClass:"task-preview-main",class:t.setCoverFullTitle},[t.task.labelIds.length&&t.currBoard&&t.typeTop?s("div",{staticClass:"task-preview-labels"},t._l(t.task.labelIds,(function(t){return s("labels-preview",{key:t,attrs:{labelId:t,fromPreview:!0}})})),1):t._e(),s("p",{staticClass:"task-preview-title",style:t.typeFullFont},[t._v(t._s(t.task.title))]),t.typeTop&&t.footerIsShown?s("div",{staticClass:"preview-footer-container flex"},[s("div",{staticClass:"left"},[t.task.dueDate?s("dueDatePreview",{style:{marginRight:"8px"},attrs:{task:t.task},on:{dueDateUpdated:t.updateDueDate}}):t._e(),t.task.description?s("i",{staticClass:"fas fa-align-left fa-sm desc-preview",style:{marginRight:"8px"}}):t._e(),t.task.imgs.length?s("span",{staticClass:"flex"},[s("i",{staticClass:"far fa-file-image"}),t._v(" "),s("span",[t._v(" "+t._s(t.task.imgs.length))])]):t._e(),t.task.checklists.length?s("span",{staticClass:"checklist-preview",class:{"checklist-success":t.areTodosCompleted}},[t.task.checklists.length?s("i",{staticClass:"far fa-check-square"}):t._e(),t._v(" "+t._s(t.getChecklistString)+" ")]):t._e()],1),s("div",{staticClass:"right"},[s("span",{staticClass:"flex preview-avatar-container"},t._l(t.task.members,(function(e){return s("span",{key:e.id,staticClass:"avatar"},[t.task.members.length?s("avatar",{attrs:{size:20,username:e.fullname}}):t._e()],1)})),0)]),t.isEditPenShown?s("i",{class:t.penToggler,on:{click:function(e){return e.stopPropagation(),t.toggleEdit(!0)}}}):t._e()]):t._e()])],1)}),Be=[],Ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.color?s("div",{staticClass:"label-preview",style:{backgroundColor:t.color.color}},[t.fromPreview?t._e():s("span",[t._v(t._s(t.color.title))])]):t._e()},Ee=[],je={props:["labelId","fromPreview"],data:function(){return{color:""}},computed:{currBoard:function(){return this.$store.getters.currBoard}},methods:{getColorByLabelId:function(){var t=Bt.getLabelColorById(this.currBoard,this.labelId);this.color=t}},watch:{currBoard:function(){this.getColorByLabelId()}},created:function(){this.getColorByLabelId(this.currBoard,this.labelId)}},Se=je,Ie=Object(C["a"])(Se,Ae,Ee,!1,null,null,null),Oe=Ie.exports,Pe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[t.showModal?s("section",{staticClass:"quick-edit-modal"},[s("section",{staticClass:"quick-edit"},[s("p",{on:{click:function(e){return e.stopPropagation(),t.closeEdit(e)}}},[t._v("X")]),s("form",{on:{submit:function(e){return e.preventDefault(),t.updateTask(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.taskToEdit.title,expression:"taskToEdit.title"}],attrs:{type:"text"},domProps:{value:t.taskToEdit.title},on:{input:function(e){e.target.composing||t.$set(t.taskToEdit,"title",e.target.value)}}})]),t._m(0)])]):t._e()])},$e=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"quick-edit-menu"},[s("ul",[s("li",[t._v("archive")]),s("li",[t._v("archive")]),s("li",[t._v("archive")]),s("li",[t._v("archive")])])])}],Me={props:{task:{type:Object}},data:function(){return{showModal:!0,taskToEdit:JSON.parse(JSON.stringify(this.task))}},methods:{closeEdit:function(){this.$emit("toggleEdit",!1)},updateTask:function(){var t=this.taskToEdit;this.$emit("quickEdited",t)}}},Ue=Me,Ne=Object(C["a"])(Ue,Pe,$e,!1,null,null,null),Re=Ne.exports,De=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("button",{staticClass:"due",class:[t.dueClass,{success:t.isDone}],on:{mouseover:function(e){t.showClock=!1},mouseleave:function(e){t.showClock=!0},click:function(e){return e.stopPropagation(),t.toggleComlpetion(e)}}},[t.showClock?s("i",{staticClass:"far fa-clock"}):s("span",{class:{success:t.isDone}}),t._v(" "+t._s(t.previewDate(t.task.dueDate))+" ")])])},Le=[],Je={props:{task:Object},data:function(){return{dueClass:"",showClock:!0}},computed:{isDone:function(){return this.task.isCompleted}},methods:{moment:function(){return $()()},previewDate:function(t){return $()(t).format("DD MMM")},deteremineDate:function(){var t=$()(this.task.dueDate).fromNow();if(t.includes("ago"))return this.dueClass="overdue";t.includes("days")?this.dueClass="days":t.includes("weeks")||t.includes("week")?this.dueClass="weeks":t.includes("hours")||t.includes("hour")||t.includes("day")?this.dueClass="hours":this.dueClass="months"},toggleComlpetion:function(){var t=JSON.parse(JSON.stringify(this.task));t.isCompleted=!t.isCompleted,console.log(t.isCompleted,"isCompleted"),this.$emit("dueDateUpdated",t),this.isDone&&(this.$emit("logActivity",'marked the task "'.concat(t.title,'" as completed')),O.a.fire({position:"bottom-end",title:"Task completed!",showConfirmButton:!1,timer:1500,toast:!0,animation:!0}))}},created:function(){this.deteremineDate()}},Ge=Je,ze=Object(C["a"])(Ge,De,Le,!1,null,null,null),Fe=ze.exports,He={props:{task:{type:Object,required:!0},groupId:{type:String,required:!0}},data:function(){return{isEditPenShown:!1,showEdit:!1,areTodosCompleted:!1}},computed:{currBoard:function(){return this.$store.getters.currBoard},bgcToShow:function(){return this.task.cover.src&&"full"===this.task.cover.type&&this.task.cover.isImg&&!this.task.cover.isNote?{backgroundImage:"url(".concat(this.task.cover.src,")")}:this.task.cover.src&&"full"===this.task.cover.type&&this.task.cover.isImg&&this.task.cover.isNote?{backgroundImage:"url(data:image/png;base64,".concat(this.task.cover.src,")"),backgroundRepeat:"no-repeat",backgroundSize:"256px 244px"}:this.task.cover.src&&"full"===this.task.cover.type&&!this.task.cover.isImg?{backgroundColor:this.task.cover.src}:{backgroundColor:"#fff"}},setCoverImgFull:function(){return{"cover-img-full":this.task.cover.isImg&&"full"===this.task.cover.type}},setCoverFullTitle:function(){return{"cover-txt-full":"full"===this.task.cover.type,"full-height":!this.task.cover.isImg&&"full"===this.task.cover.type}},typeTop:function(){return"top"===this.task.cover.type},typeFullFont:function(){return"full"===this.task.cover.type&&"#344563"===this.task.cover.src?{fontSize:"16px",fontWeight:700,color:"#fff"}:"full"===this.task.cover.type?{fontSize:"16px",fontWeight:700}:void 0},penToggler:function(){return{"fas fa-pencil-alt edit-pen":this.isEditPenShown}},footerIsShown:function(){return!!(this.task.dueDate||this.task.description||this.task.members.length||this.task.checklists.length||this.task.imgs.length)},getChecklistString:function(){if(this.task.checklists){var t=0,e=0;if(this.task.checklists.forEach((function(s){s.todos&&(s.todos.forEach((function(t){t.isDone&&e++})),t+=s.todos.length)})),t)return e===t&&t>0?this.areTodosCompleted=!0:e!==t&&t>0&&(this.areTodosCompleted=!1),"".concat(e,"/").concat(t)}else this.areTodosCompleted=!1}},methods:{getDetails:function(){var t=JSON.parse(JSON.stringify(this.$store.getters.currBoard));this.$store.commit({type:"setGroup",groupId:this.groupId}),this.$store.commit({type:"setTask",task:this.task}),this.$router.push("/board/".concat(t._id,"/details/").concat(this.task.id))},toggleEditPen:function(t){this.isEditPenShown=t},toggleEdit:function(t){this.isEditPenShown=!1,this.showEdit=t},updateDueDate:function(t){this.$emit("updateDueDate",t)},taskEdited:function(t){this.$emit("taskEdited",t)}},created:function(){},components:{quickEdit:Re,labelsPreview:Oe,Avatar:B.a,dueDatePreview:Fe}},We=He,qe=Object(C["a"])(We,xe,Be,!1,null,null,null),Ye=qe.exports,Xe=s("b76a"),Ve=s.n(Xe),Ke=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{ref:"popUp",staticClass:"pop-up",on:{click:function(e){return e.stopPropagation(),t.closePopUp(!0)}}},[s("div",{staticClass:"pop-up-header"},[t._t("header"),s("i",{staticClass:"fas fa-times",on:{click:function(e){return e.stopPropagation(),t.closePopUp(!1)}}})],2),s("div",{staticClass:"main-pop-up"},[t._t("default")],2)])},Qe=[],Ze={props:{setPopUpHeight:Boolean},data:function(){return{popUpHeight:0,popUpWidth:0}},computed:{},methods:{closePopUp:function(t){t||this.$emit("closePopUp",t)},setHeight:function(){this.popUpHeight=this.$refs.popUp.clientHeight,this.popUpWidth=this.$refs.popUp.clientWidth}},mounted:function(){this.setHeight(),this.$emit("setHeight",this.popUpHeight,this.popUpWidth)}},ts=Ze,es=Object(C["a"])(ts,Ke,Qe,!1,null,null,null),ss=es.exports,rs={props:{group:{type:Object},board:{type:Object},menuToggler:Boolean},data:function(){return{isAddingTask:!1,taskToAdd:Bt.getEmptyTask(),titleToEdit:!1,toggleTitleEdit:!1,openPopUp:!1,sortVisible:null,setPos:{x:0,y:0},currClientWidth:0,popUpWidth:170}},computed:{setCurrPos:function(){return{left:this.setPos.x+"px",top:this.setPos.y+"px",width:"170px"}}},methods:{removeGroup:function(t){this.$emit("removeGroup",t)},titleChangeByKey:function(t,e){13===e.keyCode&&(this.$emit("titleChange",this.group.title,t),e.target.blur())},titleChange:function(t){this.$emit("titleChange",this.group.title,t)},openAddTask:function(){var t=this;this.openPopUp=!1,this.isAddingTask=!0,setTimeout((function(){t.$refs.textarea.$el.focus()}),0)},closeAddTask:function(){this.isAddingTask=!1,this.taskToAdd.title=""},addTask:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.taskToAdd.title){t.next=2;break}return t.abrupt("return");case 2:this.$emit("addTask",this.taskToAdd,e),this.taskToAdd=Bt.getEmptyTask(),this.isAddingTask=!0,this.$refs.textarea.$el.focus();case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),addTaskByKey:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e,s){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(13===e.keyCode&&this.taskToAdd.title.length<=1)){t.next=2;break}return t.abrupt("return");case 2:13===e.keyCode&&(console.log(this.taskToAdd),this.taskToAdd.title=this.taskToAdd.title.slice(0,this.taskToAdd.title.length-1),this.$emit("addTask",this.taskToAdd,s),this.taskToAdd=Bt.getEmptyTask(),this.isAddingTask=!0,this.$refs.textarea.$el.focus());case 3:case"end":return t.stop()}}),t,this)})));function e(e,s){return t.apply(this,arguments)}return e}(),itemsDragged:function(){this.$emit("taskDragged",this.board)},taskEdited:function(t){var e=JSON.parse(JSON.stringify(this.group)),s=e.task.findIndex((function(e){return e.id===t.id}));e.task.splice(s,1,t),this.$emit("taskEdited",e,t)},updatedDueDate:function(t){var e=JSON.parse(JSON.stringify(this.group)),s=e.task.findIndex((function(e){return e.id===t.id}));e.task.splice(s,1,t),this.$emit("toggleTaskCompletion",e,t)},updateGroupTitle:function(t){this.group.title=t.target.innerText},toggleEditter:function(){var t=this;this.openPopUp=!1,this.toggleTitleEdit=!0,setTimeout((function(){t.$refs.editTitle.$el.focus()}),0)},togglePopUp:function(t,e){this.openPopUp=t,this.$emit("setToggler",t),console.log(e),t&&this.calcPos(e)},calcPos:function(t){this.currClientWidth!==t.view.innerWidth&&(this.setPos.x=t.pageX),this.setPos.y=t.pageY,this.setPos.y+=113,this.setPos.x=t.pageX,this.setPos.x+=100,this.currClientWidth=t.view.innerWidth,this.currClientWidth-this.setPos.x<this.popUpWidth&&(this.setPos.x-=170)},sortGroup:function(t){var e=JSON.parse(JSON.stringify(this.group)),s=e.task;"timeOldest"===t?s=s.sort((function(t,e){return t.createdAt-e.createdAt})):"timeNewest"===t?s=s.sort((function(t,e){return e.createdAt-t.createdAt})):"alphabetically"===t&&(s=s.sort((function(t,e){var s=t.title.toUpperCase(),r=e.title.toUpperCase();return s<r?-1:s>r?1:0}))),this.$emit("sortGroup",e)},toggleMenu:function(t,e){this.$emit("setToggler",!0),t&&this.calcPos(e)}},components:{taskPreview:Ye,draggable:Ve.a,popUp:ss},created:function(){}},is=rs,as=Object(C["a"])(is,Te,_e,!1,null,null,null),os=as.exports,ns=s("8055"),cs=s.n(ns),ls="",us=ds();function ds(){var t,e={setup:function(){t=cs()(ls)},on:function(e,s){t.on(e,s)},off:function(e,s){t.off(e,s)},emit:function(e,s){t.emit(e,s)},terminate:function(){t=null}};return e}window.socketService=us;var ps={data:function(){return{isLoading:!1,showGroupToAdd:!1,groupTitleToAdd:"",groupsToShow:[],menuToggler:!1}},computed:{boardId:function(){return this.$route.params.boardId},loggedInUser:function(){return JSON.parse(JSON.stringify(this.$store.getters.loggedinUser))},showAdd:function(){return{"show-add":this.showGroupToAdd}},currBoard:function(){return JSON.parse(JSON.stringify(this.$store.getters.currBoard))},board:function(){return this.$store.getters.currBoard},backgroundToShow:function(){return this.currBoard.styles.backgroundColor?{backgroundColor:this.currBoard.styles.backgroundColor}:this.currBoard.styles.backgroundImage||0===this.currBoard.styles.backgroundImage?{backgroundImage:"url("+s("ca47")("./template".concat(this.currBoard.styles.backgroundImage,".jpg"))+")"}:{backgroundImage:this.currBoard.styles.backgroundGradient}},backgroundImg:function(){return{"board-image":this.currBoard.styles.backgroundImage||0===this.currBoard.styles.backgroundImage}}},methods:{updateBoard:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$store.dispatch({type:"updateBoard",editedBoard:e});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),O.a.fire({position:"bottom-end",title:"Sorry, Could not update the board. "+t.t0,showConfirmButton:!1,timer:1500,customClass:{title:"error",popup:"error"},toast:!0,animation:!0});case 8:case"end":return t.stop()}}),t,this,[[0,5]])})));function e(e){return t.apply(this,arguments)}return e}(),loadBoard:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.isLoading=!0,t.next=4,this.$store.dispatch({type:"getBoard",boardId:this.boardId});case 4:this.isLoading=!1,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),O.a.fire({position:"bottom-end",title:"Sorry, Could not load the requested board.",showConfirmButton:!1,timer:1500,customClass:{title:"error",popup:"error"},toast:!0,animation:!0});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),openGroupAdder:function(){var t=this;this.showGroupToAdd=!0,setTimeout((function(){t.$refs.groupAddTxt.focus()}),0)},addGroup:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e){var s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.groupTitleToAdd&&!("Enter"===e.key&&this.groupTitleToAdd.length<=1)){t.next=2;break}return t.abrupt("return");case 2:return s=this.currBoard,t.next=5,Bt.getEmptyGroup();case 5:r=t.sent,r.title=this.groupTitleToAdd,s.groups.push(r),this.saveActivity('added the group "'.concat(r.title,'" to the board'),s,r),this.groupTitleToAdd="";case 10:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),removeGroup:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e){var s,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s=this.currBoard,r=s.groups.findIndex((function(t){return t.id===e})),i=JSON.parse(JSON.stringify(s.groups[r])),s.groups.splice(r,1);try{this.saveActivity('removed the group "'.concat(i.title,'" from the board'),s,i),O.a.fire({position:"bottom-end",title:"Removed successfully",showConfirmButton:!1,timer:1500,customClass:{title:"success",popup:"success"},toast:!0,animation:!0})}catch(a){O.a.fire({position:"bottom-end",title:"There was a problem removing this group",showConfirmButton:!1,timer:1500,customClass:{title:"error",popup:"error"},toast:!0,animation:!0})}case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),addTask:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e,s){var r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=this.currBoard,i=r.groups.find((function(t){return t.id===s})),i.task.push(e),this.saveActivity('added the task "'.concat(e.title,'" in "').concat(i.title,'"'),r,i,e);case 4:case"end":return t.stop()}}),t,this)})));function e(e,s){return t.apply(this,arguments)}return e}(),saveActivity:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e,s,r){var i,a,o=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=o.length>3&&void 0!==o[3]?o[3]:{title:"",id:""},a=this.loggedInUser||{fullname:"Guest",_id:"000"},console.log(a),s.activities.unshift({byMember:{_id:a._id,username:a.username||"Guest",fullname:a.fullname,profileImg:a.profileImg||"",notifications:a.notifications?{board:a.notifications.board}:{board:"000000"}},title:e,createdAt:Date.now(),group:r.title,id:mt.makeId(),task:{id:i.id,title:i.title}}),s.activities.length>=50&&s.activities.splice(s.activities.length-1,1),this.updateBoard(s),us.emit("board update",s);case 7:case"end":return t.stop()}}),t,this)})));function e(e,s,r){return t.apply(this,arguments)}return e}(),changeBgc:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.saveActivity("changed this board`s background color",this.currBoard,{});case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),draggingEnd:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=this.currBoard,e.groups=this.currBoard.groups,this.updateBoard(e),us.emit("board update",e);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),draggedTask:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.updateBoard(e),us.emit("board update",e);case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),changeTitle:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e,s){var r,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=this.currBoard,i=r.groups.find((function(t){return t.id===s})),a=JSON.parse(JSON.stringify(i)),i.title=e,this.saveActivity("renamed a group in the board",r,a);case 5:case"end":return t.stop()}}),t,this)})));function e(e,s){return t.apply(this,arguments)}return e}(),updateBoardTitle:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.currBoard.title=e,this.saveActivity("changed this board`s name",this.currBoard,{});case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),toggleTaskCompleted:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e,s){var r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=this.currBoard,i=r.groups.findIndex((function(t){return e.id===t.id})),r.groups.splice(i,1,e),this.saveActivity('marked the task "'.concat(s.title,'" as completed'),r,e,s);case 4:case"end":return t.stop()}}),t,this)})));function e(e,s){return t.apply(this,arguments)}return e}(),updateBoardSocket:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,us.emit("board update",e);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),O.a.fire({position:"bottom-end",title:"Sorry, There was a problem reaching the server.",showConfirmButton:!1,timer:1500,customClass:{title:"error",popup:"error"},toast:!0,animation:!0});case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));function e(e){return t.apply(this,arguments)}return e}(),saveGroupSort:function(t){var e=this.currBoard,s=e.groups.findIndex((function(e){return e.id===t.id}));e.groups.splice(s,1,t),this.updateBoard(e)},changeGroupsToShow:function(t){this.groupsToShow=t},setMenuToggler:function(t){this.menuToggler=t},taskEdited:function(t,e){var s=this.currBoard,r=s.groups.findIndex((function(e){return t.id===e.id}));s.groups.splice(r,1,t),this.saveActivity('changed the title of "'.concat(e.title,'" '),s,t,e)},postNotification:function(t){if(this.loggedInUser){var e=this.loggedInUser;if(t.byMember._id!==e._id&&e.notifications){if(e.notifications.alerts.length){var s=e.notifications.alerts[0];if(s.id===t.id)return}var r=t.title,i=" ".concat(t.byMember.fullname," ").concat(r);switch(t.isComment&&(i=" ".concat(t.byMember.fullname," posted a comment on ").concat(t.task.title)),e.notifications.alerts.push(t),t){default:this.pushNotification(i);break}this.$store.dispatch({type:"updateUser",user:e})}}},pushNotification:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2500;O.a.fire({position:"bottom-end",title:t,showConfirmButton:!1,timer:e,timerProgressBar:!0,allowOutsideClick:!0,html:"",toast:!0,animation:!0})}},created:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(){var e,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.loadBoard();case 2:e=this.loggedInUser,us.setup(),us.emit("board topic",this.currBoard._id),us.on("board updated",(function(t){s.updateBoard(t)})),(!e===[]||e)&&(us.on("add notification",(function(t){s.postNotification(t)})),e.notifications.board&&e.notifications.board._id===this.currBoard._id||(e.notifications.alerts=[]),e.notifications.board=this.currBoard._id,this.$store.dispatch({type:"updateUser",user:e}),e.notifications.alerts.length>1&&this.pushNotification("There were ".concat(e.notifications.alerts.length," changes to this board since you last viewed it"),3500));case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),destroyed:function(){us.off("board updated",this.updateBoard),us.off("add notification",this.postNotification),us.terminate()},components:{boardHeader:ue,group:os,draggable:Ve.a,appHeader:R,loader:w}},hs=ps,fs=Object(C["a"])(hs,ye,we,!1,null,null,null),ms=fs.exports,gs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("app-header"),s("div",{staticClass:"flex main-container gallery"},[t._m(0),s("div",{staticClass:"board-list"},t._l(t.starredBoards,(function(e){return s("section",{key:e._id},[s("span",{on:{click:function(s){return t.getBoard(e._id)}}},[s("div",{staticClass:"transition placeholder-preview",style:t.getBackground(e.styles)},[s("div",{staticClass:"board-header flex"},[s("span",{staticClass:"board-title"},[t._v(t._s(e.title))]),s("i",{staticClass:"far fa-trash-alt transition",on:{click:function(s){return s.stopPropagation(),t.removeBoard(e._id)}}})])])])])})),0),t._m(1),s("div",{staticClass:"board-list"},[s("div",{staticClass:"placeholder-preview add-board-container",on:{click:t.createBoard}},[s("i",{staticClass:"fas fa-plus"})]),t._l(t.regularBoards,(function(e){return s("section",{key:e._id},[s("span",{on:{click:function(s){return t.getBoard(e._id)}}},[s("div",{staticClass:"transition placeholder-preview",style:t.getBackground(e.styles)},[s("div",{staticClass:"board-header flex"},[s("span",{staticClass:"board-title"},[t._v(t._s(e.title))]),s("i",{staticClass:"far fa-trash-alt transition",on:{click:function(s){return s.stopPropagation(),t.removeBoard(e._id)}}})])])])])}))],2)]),t.isLoading?s("loader"):t._e()],1)},vs=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h1",{staticStyle:{"font-weight":"400"}},[s("i",{staticClass:"fas fa-star"}),t._v(" Starred Boards ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h1",{staticStyle:{"font-weight":"400"}},[s("i",{staticClass:"fas fa-th"}),t._v(" Your boards")])}],ks={data:function(){return{isLoading:!1,starredBoards:null,regularBoards:null}},computed:{boards:function(){return this.$store.getters.boards},loggedInUser:function(){return this.$store.getters.loggedinUser}},methods:{getBackground:function(t){return t.backgroundColor?{backgroundColor:t.backgroundColor}:t.backgroundImage||0===t.backgroundImage?{backgroundImage:"url("+s("ca47")("./template".concat(t.backgroundImage,".jpg"))+")"}:{backgroundImage:t.backgroundGradient}},setBoards:function(){this.starredBoards=this.boards.filter((function(t){return t.isStarred})),this.regularBoards=this.boards.filter((function(t){return!t.isStarred}))},loadBoards:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.isLoading=!0,t.next=4,this.$store.dispatch({type:"loadBoards"});case 4:this.isLoading=!1,this.setBoards(),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),O.a.fire({position:"bottom-end",title:"Sorry, could not load boards.",showConfirmButton:!1,timer:1500,customClass:{title:"error",popup:"error"},toast:!0,animation:!0});case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),createBoard:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.loggedInUser||{fullname:"Guest",_id:"000"},t.next=3,this.$store.dispatch({type:"newBoard",loggedUser:e});case 3:return t.next=5,this.loadBoards();case 5:return t.next=7,this.$store.dispatch({type:"getBoard",boardId:this.boards[this.boards.length-1]._id});case 7:this.$router.push("/board/"+this.boards[this.boards.length-1]._id);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),removeBoard:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch({type:"removeBoard",boardId:e});case 2:return t.next=4,this.loadBoards();case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getBoard:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch({type:"getBoard",boardId:e});case 2:s=this.$store.getters.currBoard,this.$router.push("/board/"+s._id);case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},created:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.loadBoards();case 2:console.log("got boards",this.boards),this.setBoards();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),components:{appHeader:R,loader:w}},bs=ks,Cs=Object(C["a"])(bs,gs,vs,!1,null,null,null),ys=Cs.exports,ws=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"task-details-modal",on:{mousedown:function(e){return e.target!==e.currentTarget?null:t.closeModal(e)}}},[s("div",{staticClass:"task-details",on:{click:function(e){return t.togglePopUp(!1)}}},[s("i",{staticClass:"fas fa-times details-close clickable",class:t.closeBtn,on:{click:t.closeModal}}),t.currTask.cover.src&&!t.currTask.cover.isImg?s("div",{staticClass:"cover",style:{backgroundColor:t.currTask.cover.src}}):t._e(),t.currTask.cover.src&&t.currTask.cover.isImg?s("div",{staticClass:"cover-image"},[t.currTask.cover.isNote?s("img",{attrs:{src:"data:image/png;base64,"+t.currTask.cover.src}}):s("img",{attrs:{src:t.currTask.cover.src}})]):t._e(),s("div",{staticClass:"task-details-main"},[s("div",{staticClass:"details-header"},[s("textarea-autosize",{ref:"taskTitle",staticClass:"clean-input main-title",attrs:{spellcheck:"false",rows:"1"},nativeOn:{keypress:function(e){return t.updateTaskByKey(e,t.currTask)},change:function(e){return t.updateTask(t.currTask)}},model:{value:t.currTask.title,callback:function(e){t.$set(t.currTask,"title",e)},expression:"currTask.title"}}),s("p",{staticClass:"sub-title"},[t._v(" In list "),s("span",[t._v(t._s(t.currGroup.title))])])],1),s("main",{staticClass:"details-body"},[t.currTask.dueDate?s("span",[s("dueDateDetails",{attrs:{task:t.currTask},on:{logActivity:t.saveActivity,updateTask:t.updateTask}})],1):t._e(),s("section",{staticClass:"main-details"},[s("div",{staticClass:"member-label-container"},[t.currTask.members.length?s("div",{staticClass:"members-preview container"},[s("h1",{staticClass:"uppercase-title"},[t._v("Members")]),s("section",{staticClass:"flex members-preview"},[t._l(t.currTask.members,(function(e){return s("span",{key:e._id,staticClass:"flex avatar",on:{click:function(s){return t.showProfile(e)}}},[s("span",{on:{click:function(s){t.currMember=e}}},[s("userPic",{attrs:{user:e,size:32}})],1)])})),s("span",{staticClass:"add-member-label",on:{click:function(e){return e.stopPropagation(),t.togglePopUp(!0,t.actions[0],e)}}},[s("i",{staticClass:"fas fa-plus"})]),t.showMemberProfile?s("memberProfile",{attrs:{currMember:t.currMember},on:{closeProfile:t.hideProfile}}):t._e()],2)]):t._e(),t.currTask.labelIds.length?s("div",{staticClass:"labels-preview flex"},[s("span",{staticClass:"uppercase-title"},[t._v("labels")]),s("span",{staticClass:"flex"},[t._l(t.currTask.labelIds,(function(e){return s("labels-preview",{key:e,attrs:{labelId:e,currBoard:t.currBoard}})})),s("span",{staticClass:"add-member-label",on:{click:function(e){return e.stopPropagation(),t.togglePopUp(!0,t.actions[1],e)}}},[s("i",{staticClass:"fas fa-plus"})])],2)]):t._e()]),s("task-description",{attrs:{task:t.currTask},on:{updateTask:t.updateTask,logActivity:t.saveActivity}}),t.currTask.imgs.length?s("attachments-preview",{attrs:{task:t.currTask},on:{editImg:t.editImg,removeImg:t.removeImg,setCover:t.setCoverImg,renderCanvas:t.renderCanvas,logActivity:t.saveActivity}}):t._e(),t.currTask.checklists.length?s("div",t._l(t.currTask.checklists,(function(e){return s("checklist",{key:e.id,attrs:{checklist:e,task:t.currTask},on:{updateTask:t.updateTask,removeChecklist:t.removeChecklist,logActivity:t.saveActivity}})})),1):t._e(),s("i",{staticClass:"far fa-comment"}),s("h1",{staticClass:"details-title"},[t._v("Post a Comment")]),s("comments",{attrs:{commentToReply:t.commentToReply},on:{postReply:t.postReply,postComment:t.logComment,cancelReply:function(e){return t.setCommentToReply("off")}}}),s("activityLog",{staticClass:"task-details-activity",attrs:{activities:t.taskActivity,showtoggleActivity:!0},on:{replyClicked:t.setCommentToReply,toggleActivity:t.toggleshowActivity}})],1),s("div",{staticClass:"action-bar flex column"},[s("ul",[s("h3",{staticClass:"uppercase-title"},[t._v("add to task")]),t._l(t.actions,(function(e,r){return s("li",{key:r,staticClass:"action transition",on:{click:function(s){return s.stopPropagation(),t.togglePopUp(!0,e,s)}}},[s("i",{class:e.iconClass}),s("span",{staticClass:"action-txt"},[t._v(" "+t._s(e.txt))])])})),t.openPopUp?s("pop-up",{style:t.setCurrPos,on:{closePopUp:t.togglePopUp,setHeight:t.setHeight},scopedSlots:t._u([{key:"header",fn:function(){return[t._v(t._s(t.currAction.txt))]},proxy:!0}],null,!1,2713710961)},[s(t.currAction.type,{tag:"component",attrs:{task:t.currTask,canvasImgSetup:t.canvasImgSetup},on:{updateBoard:t.updateBoard,updateTask:t.updateTask,logActivity:t.saveActivity,close:function(e){return t.togglePopUp(!1)},toggleLoader:t.toggleLoader}})],1):t._e()],2),s("ul",[s("h3",{staticClass:"uppercase-title"},[t._v("Actions")]),s("li",{staticClass:"action",on:{click:function(e){return t.removeTask()}}},[s("i",{staticClass:"far fa-trash-alt"}),s("span",{staticClass:"action-txt"},[t._v(" Delete Task")])])])])])])]),t.isLoading?s("loader"):t._e()],1)},Ts=[],_s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.labelEditToggler.isOpen?s("section",{staticClass:"label-edit"},[s("i",{staticClass:"fas fa-angle-left",on:{click:function(e){return t.setEditToggler(!1)}}}),s("h5",[t._v("Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newLabel.title,expression:"newLabel.title"}],staticClass:"pop-up-input",attrs:{type:"text"},domProps:{value:t.newLabel.title},on:{input:function(e){e.target.composing||t.$set(t.newLabel,"title",e.target.value)}}}),s("h5",[t._v("Select a color")]),s("div",{staticClass:"colors"},t._l(t.colorsToAdd,(function(e){return s("div",{key:e.color,staticClass:"color-picker",style:{backgroundColor:e.color},on:{click:function(s){return t.setColor(e)}}})})),0),s("div",{staticClass:"label-buttons"},[s("button",{staticClass:"btn-success",on:{click:t.addLabelToBoard}},[t._v(t._s(t.btnSuccessTxtToShow))]),"edit"===t.labelEditToggler.type?s("button",{staticClass:"btn-danger",on:{click:t.removeLabelFromBoard}},[t._v("Delete")]):t._e()])]):s("section",{staticClass:"task-labels"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterTxt,expression:"filterTxt"}],staticClass:"pop-up-input",attrs:{type:"text",placeholder:"Search labels..."},domProps:{value:t.filterTxt},on:{input:[function(e){e.target.composing||(t.filterTxt=e.target.value)},t.filterLabels]}}),s("h3",{staticClass:"pop-up-title"},[t._v("Labels")]),s("ul",{staticClass:"labels-list"},t._l(t.labels,(function(e){return s("li",{key:e.id,staticClass:"label",style:{backgroundColor:e.color},on:{click:function(s){return t.addLabel(e.id)}}},[t._v(" "+t._s(e.title)+" "),t.isLabelSet(e.id)?s("i",{staticClass:"fas fa-check"}):t._e(),s("i",{staticClass:"fas fa-pencil-alt edit-pen",on:{click:function(s){return s.stopPropagation(),t.setEditToggler(!0,e)}}})])})),0),s("button",{on:{click:function(e){return t.setEditToggler(!0)}}},[t._v("Create a new label")])])},xs=[],Bs={props:{task:Object},data:function(){return{taskToEdit:JSON.parse(JSON.stringify(this.task)),newLabel:Bt.getEmptyLabel(),labelEditToggler:{type:"",isOpen:!1},colorsToAdd:Bt.getAllColors(),filterTxt:""}},computed:{currBoard:function(){return JSON.parse(JSON.stringify(this.$store.getters.currBoard))},currGroup:function(){return this.$store.getters.currGroup},labelIds:function(){return this.taskToEdit.labelIds},btnSuccessTxtToShow:function(){return"edit"===this.labelEditToggler.type?"Save":"Create"},labels:function(){return this.$store.getters.boardLabelsForShow}},methods:{getTask:function(t,e){var s,r=this,i=t.groups.find((function(t){return t.id===r.currGroup.id}));return s=e?i.task.findIndex((function(t){return t.id===r.taskId})):i.task.find((function(t){return t.id===r.task.id})),s},isLabelSet:function(t){var e=this.labelIds.find((function(e){return e===t}));return!!e},addLabel:function(t){for(var e=0;e<this.labelIds.length;e++)if(t===this.labelIds[e]){var s=this.labelIds.findIndex((function(e){return e===t}));return this.labelIds.splice(s,1),this.taskToEdit.labelIds=this.labelIds,this.$emit("updateTask",this.taskToEdit)}this.labelIds.push(t),this.taskToEdit.labelIds=this.labelIds,this.$emit("updateTask",this.taskToEdit)},setEditToggler:function(t,e){this.labelEditToggler.isOpen=t,e?(this.newLabel=JSON.parse(JSON.stringify(e)),this.labelEditToggler.type="edit"):this.labelEditToggler.type="add"},setColor:function(t){var e=t.color,s=t.colorName;this.newLabel.color=e,this.newLabel.colorName=s},addLabelToBoard:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(){var e,s,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.getTask(this.currBoard),this.newLabel.id){t.next=8;break}this.newLabel.id=mt.makeId(),this.labelIds.push(this.newLabel.id),e.labelIds=this.labelIds,this.currBoard.labels.push(this.newLabel),t.next=12;break;case 8:if(s=this.currBoard.labels.findIndex((function(t){return t.id===r.newLabel.id})),-1!==s){t.next=11;break}return t.abrupt("return",console.log("couldnt find id for board"));case 11:this.currBoard.labels.splice(s,1,this.newLabel);case 12:return this.labelEditToggler.isOpen=!1,t.next=15,this.$emit("updateBoard",this.currBoard);case 15:this.newLabel=Bt.getEmptyLabel();case 16:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),removeLabelFromBoard:function(){var t=this,e=this.labels.findIndex((function(e){return e.id===t.newLabel.id}));this.currBoard.labels.splice(e,1),this.labelEditToggler.isOpen=!1,this.$emit("updateBoard",this.currBoard)},filterLabels:function(){this.$store.commit({type:"setLabelsFilter",filterTxt:this.filterTxt})}},created:function(){this.filterTxt="",this.filterLabels()}},As=Bs,Es=Object(C["a"])(As,_s,xs,!1,null,null,null),js=Es.exports,Ss=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"task-members-edit"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterTxt,expression:"filterTxt"}],staticClass:"pop-up-input",attrs:{placeholder:"Search members..."},domProps:{value:t.filterTxt},on:{input:[function(e){e.target.composing||(t.filterTxt=e.target.value)},t.filterMembers]}}),s("h3",{staticClass:"pop-up-title"},[t._v("Members")]),t._l(t.membersToShow,(function(e){return s("span",{key:e.id,staticClass:"flex member-list",on:{click:function(s){return t.addMember(e)}}},[s("userPic",{attrs:{user:e,size:40}}),s("p",[t._v(t._s(e.fullname))]),t.checkIfMemberExists(e)?s("i",{staticClass:"far fa-check-square"}):s("i",{staticClass:"far fa-square"})],1)}))],2)},Is=[],Os={props:{task:Object},data:function(){return{filterTxt:"",taskToEdit:JSON.parse(JSON.stringify(this.task))}},computed:{membersToShow:function(){return this.$store.getters.boardMembersForShow},taskMembers:function(){return JSON.parse(JSON.stringify(this.currTask.taskMembers))},boardMembers:function(){return this.$store.getters.currBoardMembers}},methods:{filterMembers:function(){this.$store.commit({type:"setMembersFilter",filterTxt:this.filterTxt})},addMember:function(t){var e=this.taskToEdit.members.findIndex((function(e){return e._id===t._id}));-1!==e?this.taskToEdit.members.splice(e,1):this.taskToEdit.members.push(t),this.$emit("updateTask",this.taskToEdit)},checkIfMemberExists:function(t){if(this.task.members.find((function(e){return e._id===t._id})))return!0}},created:function(){this.filterTxt="",this.filterMembers()},components:{userPic:S}},Ps=Os,$s=Object(C["a"])(Ps,Ss,Is,!1,null,null,null),Ms=$s.exports,Us=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"task-checklist"},[s("h3",{staticClass:"pop-up-title"},[t._v("Title")]),s("form",{on:{submit:function(e){return e.preventDefault(),t.addChecklist()}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.checklist.title,expression:"checklist.title"}],domProps:{value:t.checklist.title},on:{input:function(e){e.target.composing||t.$set(t.checklist,"title",e.target.value)}}}),s("button",{staticClass:"btn-gray",attrs:{type:"submit"}},[t._v("Add")])])])},Ns=[],Rs={props:{task:Object},data:function(){return{taskToEdit:JSON.parse(JSON.stringify(this.task)),checklist:{title:"",todos:[],completed:null}}},methods:{addChecklist:function(){this.checklist.id=mt.makeId(),this.taskToEdit.checklists.push(this.checklist),this.$emit("logActivity",'added a checklist in "'.concat(this.taskToEdit.title,'"')),this.$emit("updateTask",this.taskToEdit),this.$emit("close"),this.checklist={title:"",todos:[]}}}},Ds=Rs,Ls=Object(C["a"])(Ds,Us,Ns,!1,null,null,null),Js=Ls.exports,Gs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"block"},[s("el-form",{nativeOn:{submit:function(e){return e.preventDefault(),t.setDate(e)}}},[s("el-date-picker",{attrs:{placeholder:"Select date and time","picker-options":t.pickerOptions,type:"date"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),s("button",{staticClass:"btn-success"},[t._v("Save")]),s("button",{staticClass:"btn-gray",staticStyle:{float:"right"},on:{click:function(e){return e.preventDefault(),t.clearDueDate(e)}}},[t._v(" Unset ")])],1)],1)},zs=[],Fs={props:{dueDate:Number,task:Object},data:function(){return{taskToEdit:JSON.parse(JSON.stringify(this.task)),value:"",pickerOptions:{shortcuts:[{text:"Today",onClick:function(t){t.$emit("pick",new Date)}},{text:"Tomorrow",onClick:function(t){var e=new Date;e.setTime(e.getTime()+864e5),t.$emit("pick",e)}},{text:"in a week",onClick:function(t){var e=new Date;e.setTime(e.getTime()+6048e5),t.$emit("pick",e)}}]}}},computed:{defaultValue:function(){return this.dueDate?this.dueDate:new Date}},methods:{setDate:function(){this.taskToEdit.dueDate=Date.parse(this.value),this.taskToEdit.dueDate?this.$emit("logActivity",'added a due date for "'.concat(this.taskToEdit.title,'"')):this.$emit("logActivity",'removed a due date from "'.concat(this.taskToEdit.title,'"')),this.$emit("updateTask",this.taskToEdit)},clearDueDate:function(){this.value="",this.setDate()}}},Hs=Fs,Ws=Object(C["a"])(Hs,Gs,zs,!1,null,null,null),qs=Ws.exports,Ys=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"task-attachment"},[s("h3",{staticClass:"pop-up-title"},[t._v("Attach a link via")]),s("label",{staticClass:"file-upload",attrs:{for:"file-upload"}},[t._v(" Computer ")]),s("input",{style:{display:"none"},attrs:{type:"file",id:"file-upload"},on:{change:t.addFilePc}}),s("label",{staticClass:"link-upload"},[t._v(" Link ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.urlToUpload,expression:"urlToUpload"}],staticClass:"pop-up-input",attrs:{type:"text",placeholder:"Paste any url here..."},domProps:{value:t.urlToUpload},on:{paste:t.addFileUrl,input:function(e){e.target.composing||(t.urlToUpload=e.target.value)}}})])},Xs=[],Vs={props:{task:Object},data:function(){return{taskToEdit:JSON.parse(JSON.stringify(this.task)),urlToUpload:""}},methods:{addFilePc:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e){var s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.$emit("toggleLoader",!0),t.next=4,m(e);case 4:s=t.sent,r={id:mt.makeId(),src:s.url,name:"".concat(s.original_filename,".").concat(s.format),createdAt:Date.now(),isNote:!1},this.taskToEdit.cover.src||(this.taskToEdit.cover.src=r.src,this.taskToEdit.cover.type="top",this.taskToEdit.cover.isImg=!0,this.taskToEdit.cover.isNote=!1),this.taskToEdit.imgs.unshift(r),this.$emit("logActivity",'added an attachment to "'.concat(this.taskToEdit.title,'"')),this.$emit("updateTask",this.taskToEdit),this.$emit("close"),this.$emit("toggleLoader",!1),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),Swal.fire({position:"bottom-end",title:"Sorry, There was a problem with uploading your image.",showConfirmButton:!1,timer:1500,customClass:{title:"error",popup:"error"},toast:!0,animation:!0});case 17:case"end":return t.stop()}}),t,this,[[0,14]])})));function e(e){return t.apply(this,arguments)}return e}(),addFileUrl:function(){var t=this;try{setTimeout((function(){if(!t.urlToUpload.includes("http"))return console.log("not a valid link");t.$emit("toggleLoader",!0);var e={id:mt.makeId(),src:t.urlToUpload,name:"Your Image",createdAt:Date.now(),isNote:!1};t.taskToEdit.cover.src||(t.taskToEdit.cover.src=e.src,t.taskToEdit.cover.type="top",t.taskToEdit.cover.isImg=!0,t.taskToEdit.cover.isNote=!1),t.taskToEdit.imgs.unshift(e),t.$emit("logActivity",'added an attachment to "'.concat(t.taskToEdit.title,'"')),t.$emit("updateTask",t.taskToEdit),t.$emit("close"),t.$emit("toggleLoader",!1)}),200)}catch(e){Swal.fire({position:"bottom-end",title:"Sorry, There was a problem with uploading your image.",showConfirmButton:!1,timer:1500,customClass:{title:"error",popup:"error"},toast:!0,animation:!0})}}}},Ks=Vs,Qs=Object(C["a"])(Ks,Ys,Xs,!1,null,null,null),Zs=Qs.exports,tr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"task-cover-picker"},[s("h3",{staticClass:"pop-up-title"},[t._v("size")]),s("div",{staticClass:"cover-type"},[s("div",{staticClass:"cover-top",class:t.selectedTypeTop,on:{click:function(e){return t.setCoverType("top")}}},[s("div",{staticClass:"color",style:{background:t.coverToShow}}),t._m(0)]),s("div",{staticClass:"cover-full",class:t.selectedTypeFull,style:{background:t.coverToShow},on:{click:function(e){return t.setCoverType("full")}}},[t._m(1)])]),s("h3",{staticClass:"pop-up-title"},[t._v("colors")]),s("div",{staticClass:"colors"},t._l(t.allColors,(function(e){return s("div",{key:e.color,staticClass:"color-picker",class:{"active-top":t.taskToEdit.cover.src===e.color},style:{backgroundColor:e.color},on:{click:function(s){return s.target!==s.currentTarget?null:t.selectCoverByColor(e.color)}}})})),0)])},er=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"line-preview"},[s("div",{staticClass:"row1"}),s("div",{staticClass:"row2"}),s("div",{staticClass:"row3"},[s("div",{staticClass:"a"}),s("div",{staticClass:"a"})]),s("div",{staticClass:"dot"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"line-preview"},[s("div",{staticClass:"row1"}),s("div",{staticClass:"row2"})])}],sr={props:{task:Object},data:function(){return{allColors:Bt.getAllColors(),coverSelected:null}},computed:{taskToEdit:function(){return JSON.parse(JSON.stringify(this.task))},coverToShow:function(){return!this.taskToEdit.cover.src||this.taskToEdit.isImg?"#d9d9da":this.taskToEdit.cover.src&&!this.taskToEdit.cover.isImg?this.taskToEdit.cover.src:"#d9d9da"},selectedTypeTop:function(){return{"active-top":"top"===this.taskToEdit.cover.type&&this.taskToEdit.cover.src}},selectedTypeFull:function(){return{"active-full":"full"===this.taskToEdit.cover.type&&this.taskToEdit.cover.src}}},methods:{setCoverType:function(t){if(!this.taskToEdit.cover.src)return console.log("cant");this.taskToEdit.cover.type=t,this.$emit("updateTask",this.taskToEdit)},selectCoverByColor:function(t){if(this.taskToEdit.cover.isImg=!1,this.taskToEdit.cover.src===t)return this.taskToEdit.cover.src="",this.taskToEdit.cover.type="top",this.$emit("updateTask",this.taskToEdit);this.taskToEdit.cover.src=t,this.coverSelected=this.taskToEdit.cover,this.$emit("updateTask",this.taskToEdit)}},created:function(){this.coverSelected=this.taskToEdit.cover||null}},rr=sr,ir=Object(C["a"])(rr,tr,er,!1,null,null,null),ar=ir.exports,or=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"canvas"},[s("h3",{staticClass:"pop-up-title"},[t._v("draw your note")]),s("div",{staticClass:"canvas-container"},[s("canvas",{staticStyle:{border:"1px solid black"},attrs:{height:"330",width:"277",id:"canvas"},on:{mousedown:t.startPainting,mouseup:t.finishedPainting,mousemove:t.draw,touchstart:t.startPaintingMobile,touchend:t.finishedPainting,touchmove:t.drawMobile}})]),s("div",{staticClass:"canvas-config"},[s("div",{staticClass:"canvas-colors"},[s("label",[t._v("Background "),s("canvas-bgc",{on:{setBgc:t.setBgc}})],1),s("label",[t._v("Color "),s("canvas-color",{on:{setColor:t.setColor}})],1)]),s("div",{staticClass:"canvas-update"},[s("canvas-font-size",{on:{setPenWidth:t.setPenWidth}}),s("button",{staticClass:"btn-success clear",on:{click:function(e){return t.setBgc("white")}}},[t._v("Clear")]),s("button",{staticClass:"btn-success",on:{click:t.downloadImg}},[t._v("Save note")])],1)])])},nr=[],cr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-select",{attrs:{placeholder:"Black"},on:{change:t.setColor},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)},lr=[],ur={data:function(){return{options:[{value:"black",label:"Black"},{value:"white",label:"White"},{value:"red",label:"Red"},{value:"green",label:"Green"},{value:"blue",label:"Blue"},{value:"brown",label:"Brown"},{value:"purple",label:"Purple"},{value:"yellow",label:"Yellow"}],value:""}},methods:{setColor:function(){this.$emit("setColor",this.value)}}},dr=ur,pr=Object(C["a"])(dr,cr,lr,!1,null,null,null),hr=pr.exports,fr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-select",{attrs:{placeholder:"White"},on:{change:t.setBgc},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)},mr=[],gr={data:function(){return{options:[{value:"white",label:"White"},{value:"black",label:"Black"},{value:"red",label:"Red"},{value:"green",label:"Green"},{value:"blue",label:"Blue"},{value:"brown",label:"Brown"},{value:"purple",label:"Purple"},{value:"yellow",label:"Yellow"}],value:""}},methods:{setBgc:function(){this.$emit("setBgc",this.value)}}},vr=gr,kr=Object(C["a"])(vr,fr,mr,!1,null,null,null),br=kr.exports,Cr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-select",{attrs:{placeholder:"Set size"},on:{change:t.setPenWidth},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)},yr=[],wr={data:function(){return{options:[{value:4,label:"Small"},{value:7,label:"Medium"},{value:10,label:"Big"}],value:""}},methods:{setPenWidth:function(){this.$emit("setPenWidth",this.value)}}},Tr=wr,_r=Object(C["a"])(Tr,Cr,yr,!1,null,null,null),xr=_r.exports,Br={props:["task","canvasImgSetup"],data:function(){return{painting:!1,canvas:null,ctx:null,currColor:"black",currWidth:4,taskToEdit:JSON.parse(JSON.stringify(this.task))}},methods:{setColor:function(t){this.currColor=t},setBgc:function(t){this.ctx.fillStyle=t,this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)},setPenWidth:function(t){this.currWidth=t},startPainting:function(t){this.painting=!0,this.draw(t)},startPaintingMobile:function(t){this.painting=!0,this.drawMobile(t)},finishedPainting:function(){this.painting=!1,this.ctx.beginPath()},draw:function(t){this.painting&&(this.ctx.strokeStyle=this.currColor,this.ctx.lineWidth=this.currWidth,this.ctx.lineCap="round",this.ctx.lineTo(t.offsetX,t.offsetY),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(t.offsetX,t.offsetY))},drawMobile:function(t){if(this.painting){t.preventDefault();var e=t.target.getBoundingClientRect(),s=t.targetTouches[0].pageX-e.left,r=t.targetTouches[0].pageY-e.top;this.ctx.strokeStyle=this.currColor,this.ctx.lineWidth=this.currWidth,this.ctx.lineCap="round",this.ctx.lineTo(s,r),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(s,r)}},downloadImg:function(){try{this.$emit("toggleLoader",!0);var t=this.canvas.toDataURL("image/png"),e=t.substring(22,t.length),s={id:mt.makeId(),src:e,name:"Your Image",createdAt:Date.now(),isNote:!0};this.taskToEdit.cover.src||(this.taskToEdit.cover.src=s.src,this.taskToEdit.cover.type="top",this.taskToEdit.cover.isImg=!0,this.taskToEdit.cover.isNote=!0),this.taskToEdit.imgs.unshift(s),this.$emit("logActivity",'added an attachment to "'.concat(this.taskToEdit.title,'"')),this.$emit("updateTask",this.taskToEdit),this.$emit("close")}catch(r){Swal.fire({position:"bottom-end",title:"Sorry, There was a problem with uploading your image.",showConfirmButton:!1,timer:1500,customClass:{title:"error",popup:"error"},toast:!0,animation:!0})}finally{this.$emit("toggleLoader",!1)}}},mounted:function(){var t=this;if(this.canvas=document.getElementById("canvas"),this.ctx=canvas.getContext("2d"),this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.canvasImgSetup){var e=new Image;this.canvasImgSetup.isNote?e.src="data:image/png;base64,".concat(this.canvasImgSetup.src):e.src=this.canvasImgSetup.src,e.setAttribute("crossorigin","anonymous"),e.onload=function(){t.ctx.drawImage(e,0,0,t.canvas.width,t.canvas.height)}}},components:{canvasColor:hr,canvasBgc:br,canvasFontSize:xr}},Ar=Br,Er=Object(C["a"])(Ar,or,nr,!1,null,null,null),jr=Er.exports,Sr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"attachments-preview"},[s("i",{staticClass:"fas fa-paperclip"}),s("h1",{staticClass:"details-title"},[t._v("Attachments")]),s("section",{staticClass:"attachments-thumbnail"},[t._l(t.task.imgs,(function(e){return s("div",{key:e.id,staticClass:"image-preview"},[s("div",{staticClass:"image-cover clickable"},[e.isNote?s("img",{staticClass:"img",attrs:{src:"data:image/png;base64,"+e.src,alt:""},on:{click:function(s){return t.showImage(!0,e)}}}):s("img",{staticClass:"img",attrs:{src:e.src},on:{click:function(s){return t.showImage(!0,e)}}})]),s("div",{staticClass:"image-details"},[s("p",{staticClass:"image-name"},[t._v(t._s(e.name))]),s("small",[t._v("Added "+t._s(t.attachmentTimestamp(e.createdAt))+" - "),s("span",{staticClass:"image-info",on:{click:function(s){return t.removeImg(e)}}},[t._v("Delete")]),t._v(" - "),s("span",{staticClass:"image-info",on:{click:function(s){return s.stopPropagation(),t.renderCanvas(e,s)}}},[t._v("Edit")]),t._v(" - "),s("span",{staticClass:"image-info",on:{click:function(s){return t.toggleEdit(!0,e)}}},[t._v("Rename ")])]),s("small",{staticClass:"image-info cover-maker",on:{click:function(s){return t.setCover(e)}}},[t._v(t._s(t.task.cover.src===e.src?"Remove cover":"Make cover"))])])])})),t.editToggler?s("div",{staticClass:"edit-window pop-up-header"},[s("i",{staticClass:"fas fa-times clickable",on:{click:function(e){t.editToggler=!1}}}),s("h3",[t._v("Rename")]),s("hr"),s("h3",{staticClass:"edit-window-title"},[t._v("Link Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.txtToEdit,expression:"txtToEdit"}],staticClass:"pop-up-input",attrs:{type:"text"},domProps:{value:t.txtToEdit},on:{input:function(e){e.target.composing||(t.txtToEdit=e.target.value)}}}),s("button",{staticClass:"btn-success",on:{click:t.editImg}},[t._v("Update")])]):t._e(),t.currImg?s("section",{staticClass:"image-window",on:{click:function(e){return t.showImage(!1)}}},[s("div",[t.currImg.isNote?s("img",{attrs:{src:"data:image/png;base64,"+t.currImg.src,alt:""}}):s("img",{attrs:{src:t.currImg.src,alt:""}})])]):t._e()],2)])},Ir=[],Or=(s("7f7f"),{props:{task:Object},data:function(){return{taskToEdit:JSON.parse(JSON.stringify(this.task)),imgToEdit:null,txtToEdit:"",editToggler:!1,currImg:null}},computed:{},methods:{editImg:function(){this.imgToEdit.name=this.txtToEdit,this.editToggler=!1,this.$emit("logActivity",'changed an attachment in "'.concat(this.taskToEdit.title,'"')),this.$emit("editImg",this.imgToEdit)},removeImg:function(t){this.$emit("logActivity",'removed an attachment from "'.concat(this.taskToEdit.title,'"')),this.$emit("removeImg",t)},toggleEdit:function(t,e){this.editToggler=t,this.imgToEdit=e,this.txtToEdit=e.name},showImage:function(t,e){t||(this.currImg=null),this.currImg=e},setCover:function(t){if(t.src===this.task.cover.src)return this.$emit("setCover",!1,"");this.$emit("setCover",!0,t)},renderCanvas:function(t,e){this.$emit("renderCanvas",t,e)},moment:function(){return $()()},attachmentTimestamp:function(t){return $()(t).fromNow()}},created:function(){}}),Pr=Or,$r=Object(C["a"])(Pr,Sr,Ir,!1,null,null,null),Mr=$r.exports,Ur=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"comment-add"},[t.commentToReply?s("form",{on:{submit:function(e){return e.preventDefault(),t.postReply(e)}}},[s("p",[t._v("Reply to: "),s("span",{staticClass:"muted-txt"},[t._v(t._s(t.commentToReply.title))])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],attrs:{type:"text",placeholder:"Write a reply..."},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}}),s("button",{staticClass:"btn-success"},[t._v("Post")]),s("button",{staticClass:"btn-gray",on:{click:function(e){return e.preventDefault(),t.cancelReply(e)}}},[t._v("Cancel")])]):s("form",{on:{submit:function(e){return e.preventDefault(),t.postComment(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],attrs:{type:"text",placeholder:"Write a comment..."},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}}),s("button",{staticClass:"btn-success"},[t._v("Post")]),s("button",{staticClass:"btn-gray",on:{click:function(e){e.preventDefault(),t.comment=""}}},[t._v("Cancel")])])])},Nr=[],Rr={props:["commentToReply"],data:function(){return{comment:""}},computed:{loggedInUser:function(){return JSON.parse(JSON.stringify(this.$store.getters.loggedinUser))}},methods:{postComment:function(){""!==this.comment&&(this.$emit("postComment",this.comment),this.comment="")},cancelReply:function(){this.$emit("cancelReply"),this.comment=""},postReply:function(){""!==this.comment&&(this.$emit("postReply",this.comment),this.comment="")}}},Dr=Rr,Lr=Object(C["a"])(Dr,Ur,Nr,!1,null,null,null),Jr=Lr.exports,Gr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[t.task.isCompleted?s("button",{staticClass:"uppercase-title due success",on:{click:t.toggleComlpetion}},[t._v(" completed! "+t._s(t.dueTime(t.task.dueDate))+" ")]):s("button",{staticClass:"uppercase-title due due-details",class:t.dueClass,on:{click:t.toggleComlpetion}},[t._v(" "+t._s(t.dueTime(t.task.dueDate))+" ")]),s("span",[t._v(" Due "+t._s(t.fullDate(t.task.dueDate)))])])},zr=[],Fr={props:{task:Object},data:function(){return{dueClass:""}},methods:{moment:function(){return $()()},dueTime:function(t){return $()(t).fromNow()},fullDate:function(t){return $()(t).format("DD-MM-YYYY HH:MM")},deteremineDate:function(){var t=$()(this.task.dueDate).fromNow();if(t.includes("ago"))return this.dueClass="overdue";t.includes("days")?this.dueClass="days":t.includes("weeks")||t.includes("week")?this.dueClass="weeks":t.includes("hours")||t.includes("hour")||t.includes("day")?this.dueClass="hours":this.dueClass="months"},toggleComlpetion:function(){this.task.isCompleted=!this.task.isCompleted,this.task.isCompleted&&this.$emit("logActivity",'marked the task "'.concat(this.task.title,'" as completed')),this.$emit("updateTask",this.task)}},created:function(){this.deteremineDate()}},Hr=Fr,Wr=Object(C["a"])(Hr,Gr,zr,!1,null,null,null),qr=Wr.exports,Yr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"description"},[s("i",{staticClass:"fas fa-align-left fa-lg"}),s("h1",{staticClass:"details-title"},[t._v("Description")]),!t.isEditing&&t.taskToEdit.description?s("button",{staticClass:"btn-gray",on:{click:function(e){return t.openEdit()}}},[t._v(" Edit ")]):t._e(),t.isEditing||t.taskToEdit.description?t._e():s("div",{staticClass:"description-input clickable",on:{click:function(e){return t.openEdit()}}},[t._v(" Add a more detailed description... ")]),t.isEditing?s("div",{staticClass:"description-edit"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.setDescription(e)}}},[s("textarea-autosize",{ref:"descriptionEdit",staticClass:"description-input clean-input",attrs:{spellcheck:"false",rows:"4",placeholder:"Add a more detailed description..."},nativeOn:{change:function(e){return t.setDescription(e)}},model:{value:t.taskToEdit.description,callback:function(e){t.$set(t.taskToEdit,"description",e)},expression:"taskToEdit.description"}}),s("div",[s("button",{staticClass:"btn-success",attrs:{type:"submit"}},[t._v("Save")]),s("i",{staticClass:"fas fa-times clickable close-desc",on:{click:t.closeEdit}})])],1)]):!t.isEditing&&t.taskToEdit.description?s("p",{staticClass:"description-show",on:{click:t.openEdit}},[t._v(t._s(t.taskToEdit.description))]):t._e()])},Xr=[],Vr={props:{task:Object},data:function(){return{isEditing:!1,descBeforeUpdate:null}},computed:{taskToEdit:function(){return JSON.parse(JSON.stringify(this.task))}},methods:{openEdit:function(){var t=this;this.isEditing=!0,setTimeout((function(){t.$refs.descriptionEdit.$el.focus()}),0)},closeEdit:function(){this.isEditing=!1,this.taskToEdit.description=this.descBeforeUpdate},setDescription:function(){this.$emit("logActivity",'changed the description of "'.concat(this.task.title,'"')),this.$emit("updateTask",this.taskToEdit),this.descBeforeUpdate=this.taskToEdit.description,this.isEditing=!1}},created:function(){this.descBeforeUpdate=this.taskToEdit.description}},Kr=Vr,Qr=Object(C["a"])(Kr,Yr,Xr,!1,null,null,null),Zr=Qr.exports,ti=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"task-checklist"},[s("div",{staticClass:"checklist-header flex"},[s("div",[s("i",{staticClass:"fas fa-tasks fa-lg"}),s("h1",{staticClass:"details-title"},[t._v(t._s(t.checklist.title))])]),s("button",{staticClass:"btn-gray",on:{click:t.removeChecklist}},[t._v("Delete")])]),s("div",{staticClass:"progress-container flex"},[s("span",[t._v(t._s(t.checklist.completed))]),s("div",{staticClass:"progress-bar"},[s("div",{ref:"progress",staticClass:"progress-done"})])]),t._l(t.checklist.todos,(function(e){return s("div",{key:e.id},[s("todo-item",{attrs:{todo:e},on:{updateTodo:t.updateTodo,removeTodo:t.removeTodo}})],1)})),t.isAddingItem?t._e():s("button",{staticClass:"btn-gray",on:{click:t.addTodoInput}},[t._v(" Add an item ")]),t.isAddingItem?s("form",{on:{submit:function(e){return e.preventDefault(),t.addTodo(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.todoToAdd.title,expression:"todoToAdd.title"}],ref:"taskadd",attrs:{placeholder:"Add an item"},domProps:{value:t.todoToAdd.title},on:{input:function(e){e.target.composing||t.$set(t.todoToAdd,"title",e.target.value)}}}),s("button",{staticClass:"btn-success",attrs:{type:"submit"}},[t._v("Add")]),s("i",{staticClass:"fas fa-times clickable close-desc",on:{click:t.closeTodoInput}})]):t._e()],2)},ei=[],si=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"todo-item flex"},[s("div",[s("i",{staticClass:"clickable",class:t.isDoneClass("checkbox"),on:{click:t.toggleDone}}),s("span",{class:t.isDoneClass("title")},[t._v(" "+t._s(t.todo.title)+" ")])]),s("i",{staticClass:"fas fa-trash-alt clickable",on:{click:t.removeTodo}})])},ri=[],ii={name:"todo-item",props:{todo:Object},data:function(){return{todoToEdit:JSON.parse(JSON.stringify(this.todo))}},methods:{toggleDone:function(){this.todoToEdit.isDone=!this.todoToEdit.isDone,this.$emit("updateTodo",this.todoToEdit)},removeTodo:function(){this.$emit("removeTodo",this.todoToEdit.id)},isDoneClass:function(t){return"checkbox"===t?this.todo.isDone?"far fa-check-square":"far fa-square":"title"===t?this.todo.isDone?"line-through":"":void 0}}},ai=ii,oi=Object(C["a"])(ai,si,ri,!1,null,null,null),ni=oi.exports,ci={props:{checklist:Object,task:Object},data:function(){return{isAddingItem:!1,taskToEdit:JSON.parse(JSON.stringify(this.task)),todoToAdd:{title:"",isDone:!1}}},computed:{checklistIdx:function(){var t=this;return this.task.checklists.findIndex((function(e){return e.id===t.checklist.id}))}},methods:{updateTask:function(){this.taskToEdit.checklists.splice(this.checklistIdx,1,this.checklist),this.updateProgress(),"0%"!==this.checklist.completed&&this.$emit("logActivity","has completed ".concat(this.checklist.completed,' of the checklist "').concat(this.checklist.title,'" in "').concat(this.taskToEdit.title,'"')),"100%"===this.checklist.completed&&O.a.fire({position:"bottom-end",title:"You have finished all of your to-do list!",showConfirmButton:!1,timer:1500,customClass:{title:"success",popup:"success"},toast:!0,animation:!0}),this.$emit("updateTask",this.taskToEdit)},updateProgress:function(){var t=this.checklist.todos.length,e=this.checklist.todos.filter((function(t){return!0===t.isDone})).length;this.checklist.completed=t?Math.round(e/t*100)+"%":"0%",this.$refs.progress.style.width=this.checklist.completed,this.$refs.progress.style.background=e/t===1?"#64916a":"#0079bf"},removeChecklist:function(){this.$emit("removeChecklist",this.checklistIdx),this.$emit("logActivity",'removed a checklist in "'.concat(this.taskToEdit.title,'"'))},addTodoInput:function(){var t=this;this.isAddingItem=!0,setTimeout((function(){t.$refs.taskadd.focus()}),0)},closeTodoInput:function(){this.isAddingItem=!1,this.todoToAdd.title=""},addTodo:function(){this.todoToAdd.title&&(this.isAddingItem=!1,this.todoToAdd.id=mt.makeId(),this.checklist.todos.push(this.todoToAdd),this.$emit("logActivity",'added item "'.concat(this.todoToAdd.title,'" in the checklist "').concat(this.checklist.title,'"')),this.updateTask(),this.todoToAdd={title:"",isDone:!1},this.isAddingItem=!0,this.$refs.taskadd.focus())},removeTodo:function(t){var e=this.getTodoIdx(t);this.checklist.todos.splice(e,1),this.$emit("logActivity",'removed items from the checklist "'.concat(this.checklist.title,'" in "').concat(this.taskToEdit.title,'"')),this.updateTask()},updateTodo:function(t){var e=this.getTodoIdx(t.id);this.checklist.todos.splice(e,1,t),this.updateTask()},getTodoIdx:function(t){return this.checklist.todos.findIndex((function(e){return e.id===t}))},getChecklistIdx:function(){}},mounted:function(){this.updateProgress()},watch:{checklist:function(){this.updateProgress()}},components:{todoItem:ni}},li=ci,ui=Object(C["a"])(li,ti,ei,!1,null,null,null),di=ui.exports,pi={data:function(){return{showMemberProfile:!1,currMember:null,actions:[{txt:"Members",type:"taskMembers",iconClass:"far fa-user"},{txt:"Labels",type:"taskLabels",iconClass:"far fa-bookmark"},{txt:"Add checklist",type:"checklistAdd",iconClass:"fas fa-tasks"},{txt:"Due date",type:"taskDueDate",iconClass:"far fa-clock"},{txt:"Attachment",type:"taskAttachment",iconClass:"fas fa-paperclip"},{txt:"Cover",type:"taskCover",iconClass:"fas fa-square"},{txt:"Canvas",type:"taskCanvas",iconClass:"fas fa-palette"}],currAction:null,openPopUp:!1,isLoading:!1,setPos:{x:0,y:0},currClientWidth:0,currClientHeight:0,popUpHeight:0,commentToReply:null,showActivity:!0,canvasImgSetup:!1}},computed:{taskActivity:function(){var t=this,e=this.showActivity;return!0===e?this.currBoard.activities.filter((function(e){return e.task&&e.task.id===t.currTask.id&&!e.title.includes("posted a comment to ")&&e.task&&!e.title.includes("replied to a comment")})):this.currBoard.activities.filter((function(e){return e.task&&e.task.id===t.currTask.id&&e.isComment}))},currBoard:function(){return JSON.parse(JSON.stringify(this.$store.getters.currBoard))},currTask:function(){return JSON.parse(JSON.stringify(this.$store.getters.currTask))},currGroup:function(){return this.$store.getters.currGroup},taskId:function(){return this.$route.params.taskId},loggedInUser:function(){return this.$store.getters.loggedinUser},closeBtn:function(){return{"close-btn-details":this.currTask.cover.src}},setCurrPos:function(){return"taskCanvas"===this.currAction.type?{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}:{left:this.setPos.x+"px",top:this.setPos.y+"px"}}},methods:{toggleshowActivity:function(t){this.showActivity=t},postReply:function(t){var e=this.commentToReply;e.replies.push({title:t,byMember:this.loggedInUser||{fullname:"Guest"},createdAt:Date.now()}),this.saveActivity('replied to a comment on "'.concat(this.currTask.title,'"')),this.updateBoard(this.currBoard),this.updateBoardSocket(this.currBoard),this.commentToReply=null},setCommentToReply:function(t){"off"===t&&(this.commentToReply=null),this.commentToReply=this.currBoard.activities.find((function(e){return e.id===t}))},removeChecklist:function(t){var e=this.currTask;e.checklists.splice(t,1),this.updateTask(e)},saveActivity:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e){var s,r,i,a=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s=a.length>1&&void 0!==a[1]&&a[1],t.prev=1,r=this.currTask,i={byMember:this.loggedInUser||{fullname:"Guest",_id:"000"},title:e,createdAt:Date.now(),group:{id:this.currGroup.id,title:this.currGroup.title},id:mt.makeId(),task:{id:r.id,title:r.title},isComment:s},i.isComment&&(i.replies=[]),this.currBoard.activities.unshift(i),this.currBoard.activities.length>50&&this.currBoard.activities.splice(this.currBoard.activities.length-1,1),!s){t.next=11;break}return t.next=10,this.updateBoard(this.currBoard);case 10:this.updateBoardSocket(this.currBoard);case 11:t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](1),O.a.fire({position:"bottom-end",title:"Sorry, There was a problem with your request.",showConfirmButton:!1,timer:1500,customClass:{title:"error",popup:"error"},toast:!0,animation:!0});case 16:case"end":return t.stop()}}),t,this,[[1,13]])})));function e(e){return t.apply(this,arguments)}return e}(),getTask:function(t,e){var s,r=this,i=t.groups.find((function(t){return t.id===r.currGroup.id}));return s=e?i.task.findIndex((function(t){return t.id===r.taskId})):i.task.find((function(t){return t.id===r.taskId})),s},updateBoard:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$store.dispatch({type:"updateBoard",editedBoard:e});case 3:this.$store.commit({type:"setTask",taskId:this.taskId}),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),O.a.fire({position:"bottom-end",title:"Sorry, Could not update the board. "+t.t0,showConfirmButton:!1,timer:1500,customClass:{title:"error",popup:"error"},toast:!0,animation:!0});case 9:case"end":return t.stop()}}),t,this,[[0,6]])})));function e(e){return t.apply(this,arguments)}return e}(),closeModal:function(){this.$router.push("/board/".concat(this.$route.params.boardId))},setHeight:function(t,e){this.popUpHeight=t,this.popUpWidth=e,this.currClientHeight-this.setPos.y<this.popUpHeight&&(this.setPos.y-=t/2),this.currClientHeight-this.setPos.y<this.popUpHeight&&this.popUpHeight>this.setPos.y||(this.setPos.y+=t/2,this.setPos.x+150<this.popUpWidth&&(this.setPos.x+=300),this.currClientWidth<426&&(this.setPos.x=this.currClientWidth/2))},calcPos:function(t){this.currClientHeight=t.view.innerHeight,this.currClientWidth=t.view.innerWidth,this.currClientWidth!==t.view.innerWidth&&(this.setPos.x=t.pageX-150),this.setPos.y=t.pageY,this.setPos.x=t.pageX-150},togglePopUp:function(t,e,s){var r=this;this.openPopUp=!1,setTimeout((function(){r.openPopUp=t}),0),this.currAction=e,t?this.calcPos(s):this.canvasImgSetup=!1},removeTask:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(){var e,s,r,i,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{this.isLoading=!0,e=JSON.parse(JSON.stringify(this.currBoard)),s=this.getTask(e,!0),r=JSON.parse(JSON.stringify(this.getTask(e))),i=e.groups.find((function(t){return t.id===a.currGroup.id})),i.task.splice(s,1),this.updateBoard(e),this.isLoading=!1,this.updateBoardSocket(e),this.$router.push("../"),O.a.fire({position:"bottom-end",title:"Task removed successfully",showConfirmButton:!1,timer:1500,customClass:{title:"success",popup:"success"},toast:!0,animation:!0}),this.saveActivity('removed the task "'.concat(r.title,'" from "').concat(i.title,'"'))}catch(o){O.a.fire({position:"bottom-end",title:"Task removed successfully",showConfirmButton:!1,timer:1500,customClass:{title:"error",popup:"error"},toast:!0,animation:!0})}case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),updateTask:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e){var s,r,i,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s=JSON.parse(JSON.stringify(this.currTask)),r=this.currBoard.groups.find((function(t){return t.id===a.currGroup.id})),i=this.getTask(this.currBoard,!0),r.task.splice(i,1,e),s.title!==e.title&&this.saveActivity('changed the task "'.concat(s.title,'" to "').concat(this.task.title,'"')),this.updateBoard(this.currBoard),this.updateBoardSocket(this.currBoard);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),updateTaskByKey:function(t,e){if(13===t.keyCode)return this.updateTask(e),this.$refs.taskTitle.$el.blur()},showProfile:function(t){this.currMember=t,this.showMemberProfile=!0},hideProfile:function(){this.showMemberProfile=!1},editImg:function(t){var e=JSON.parse(JSON.stringify(this.currTask)),s=e.imgs.findIndex((function(e){return e.id===t.id}));if(s<0)return console.log("couldnt find idx");e.imgs.splice(s,1,t),this.updateTask(e),O.a.fire({position:"bottom-end",title:"Attachment edited successfully",showConfirmButton:!1,timer:1500,customClass:{title:"success",popup:"success"},toast:!0,animation:!0})},removeImg:function(t){var e=JSON.parse(JSON.stringify(this.currTask)),s=e.imgs.findIndex((function(e){return e.id===t.id}));if(s<0)return console.log("couldnt find idx");e.imgs.splice(s,1),t.src===e.cover.src&&(e.cover={src:"",type:"top",isImg:!1}),this.updateTask(e),O.a.fire({position:"bottom-end",title:"Attachment removed successfully",showConfirmButton:!1,timer:1500,customClass:{title:"success",popup:"success"},toast:!0,animation:!0})},setCoverImg:function(t,e){var s=JSON.parse(JSON.stringify(this.currTask));s.cover.isImg=t,s.cover.src=e.src,e.isNote?s.cover.isNote=!0:s.cover.isNote=!1,t||(s.cover.type="top"),this.updateTask(s)},updateBoardSocket:function(t){this.$emit("updateBoardSocket",t)},toggleLoader:function(t){this.isLoading=t},logComment:function(t){this.saveActivity(t,!0),this.saveActivity('posted a comment to "'.concat(this.currTask.title,'"'))},renderCanvas:function(t,e){this.canvasImgSetup=t,this.togglePopUp(!0,this.actions[6],e)}},created:function(){var t=this;this.$store.commit({type:"setTask",taskId:this.taskId}),us.setup(),us.on("board updated",(function(e){t.updateBoard(e)}))},components:{popUp:ss,taskLabels:js,labelsPreview:Oe,taskDescription:Zr,activityLog:Vt,taskMembers:Ms,checklistAdd:Js,checklist:di,taskAttachment:Zs,taskDueDate:qs,taskCover:ar,taskCanvas:jr,userPic:S,memberProfile:oe,attachmentsPreview:Mr,dueDateDetails:qr,loader:w,comments:Jr}},hi=pi,fi=Object(C["a"])(hi,ws,Ts,!1,null,null,null),mi=fi.exports;n["default"].use(z["a"]);var gi=new z["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:fe},{path:"/login",name:"login-signup",component:Ce},{path:"/board/:boardId",name:"board",component:ms,children:[{path:"details/:taskId",name:"task-details",component:mi}]},{path:"/boards",name:"board-gallery",component:ys}]}),vi=s("2f62"),ki={login:_i,logout:Ei,signup:Bi,getUsers:bi,getById:Ci,remove:yi,update:wi,getLoggedinUser:Ii};function bi(){return wt.get("user")}function Ci(t){return wt.get("user/".concat(t))}function yi(t){return wt.delete("user/".concat(t))}function wi(t){return Ti.apply(this,arguments)}function Ti(){return Ti=Object(p["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return Ii()._id===e._id&&Si(e),t.abrupt("return",wt.put("user/".concat(e._id),e));case 2:case"end":return t.stop()}}),t)}))),Ti.apply(this,arguments)}function _i(t){return xi.apply(this,arguments)}function xi(){return xi=Object(p["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,wt.post("auth/login",e);case 2:if(s=t.sent,!s){t.next=5;break}return t.abrupt("return",Si(s));case 5:case"end":return t.stop()}}),t)}))),xi.apply(this,arguments)}function Bi(t){return Ai.apply(this,arguments)}function Ai(){return Ai=Object(p["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,wt.post("auth/signup",e);case 2:return s=t.sent,t.abrupt("return",Si(s));case 4:case"end":return t.stop()}}),t)}))),Ai.apply(this,arguments)}function Ei(){return ji.apply(this,arguments)}function ji(){return ji=Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return sessionStorage.clear(),t.next=3,wt.post("auth/logout");case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),ji.apply(this,arguments)}function Si(t){return sessionStorage.setItem("loggedinUser",JSON.stringify(t)),t}function Ii(){return JSON.parse(sessionStorage.getItem("loggedinUser"))}window.userService=ki;var Oi={state:{loggedinUser:ki.getLoggedinUser(),users:[]},getters:{users:function(t){return t.users},loggedinUser:function(t){return t.loggedinUser}},mutations:{setUser:function(t,e){var s=e.user;t.loggedinUser=s},setUsers:function(t,e){var s=e.users;t.users=s},removeUser:function(t,e){var s=e.userId;t.users=t.users.filter((function(t){return t._id!==s}))}},actions:{login:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e,s){var r,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,i=s.userCred,t.prev=2,t.next=5,ki.login(i);case 5:return a=t.sent,r({type:"setUser",user:a}),t.abrupt("return",a);case 10:throw t.prev=10,t.t0=t["catch"](2),console.log("userStore: Error in login",t.t0),t.t0;case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));function e(e,s){return t.apply(this,arguments)}return e}(),signup:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e,s){var r,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,i=s.userCred,t.prev=2,t.next=5,ki.signup(i);case 5:return a=t.sent,r({type:"setUser",user:a}),t.abrupt("return",a);case 10:throw t.prev=10,t.t0=t["catch"](2),t.t0;case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));function e(e,s){return t.apply(this,arguments)}return e}(),logout:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e.commit,t.prev=1,t.next=4,ki.logout();case 4:s({type:"setUser",user:null}),t.next=11;break;case 7:throw t.prev=7,t.t0=t["catch"](1),console.log("userStore: Error in logout",t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));function e(e){return t.apply(this,arguments)}return e}(),loadUsers:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e){var s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e.commit,t.prev=1,t.next=4,ki.getUsers();case 4:r=t.sent,s({type:"setUsers",users:r}),t.next=12;break;case 8:throw t.prev=8,t.t0=t["catch"](1),console.log("userStore: Error in loadUsers",t.t0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e){return t.apply(this,arguments)}return e}(),removeUser:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e,s){var r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,i=s.userId,t.prev=2,t.next=5,ki.remove(i);case 5:r({type:"removeUser",userId:i}),t.next=12;break;case 8:throw t.prev=8,t.t0=t["catch"](2),console.log("userStore: Error in removeUser",t.t0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[2,8]])})));function e(e,s){return t.apply(this,arguments)}return e}(),updateUser:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e,s){var r,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,i=s.user,t.prev=2,t.next=5,ki.update(i);case 5:a=t.sent,r({type:"setUser",user:a}),t.next=13;break;case 9:throw t.prev=9,t.t0=t["catch"](2),console.log("userStore: Error in updateUser",t.t0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));function e(e,s){return t.apply(this,arguments)}return e}()}},Pi={state:{},getters:{},mutations:{setJob:function(t,e){var s=e.job;t.job=s}},actions:{sendMsg:function(t,e){var s=e.msg;us.emit("sendMsg",s)},getChatHistory:function(t,e){var s=e.chatId;us.emit("getHistory",s)}}},$i={state:{boards:null,currBoard:null,currGroup:null,currTask:null,labelFilter:"",membersFilter:""},getters:{boards:function(t){return t.boards},currBoard:function(t){return t.currBoard},currGroup:function(t){return t.currGroup},currBoardMembers:function(t){return t.currBoard.members},currTask:function(t){return t.currTask},activityLog:function(t){return t.currBoard.activities},boardLabelsForShow:function(t){var e=JSON.parse(JSON.stringify(t.currBoard.labels));return t.labelFilter?e.filter((function(e){return e.colorName.includes(t.labelFilter)||e.title.includes(t.labelFilter)})):e},boardMembersForShow:function(t){var e=JSON.parse(JSON.stringify(t.currBoard.members));return t.membersFilter?e.filter((function(e){return e.fullname.toLowerCase().includes(t.membersFilter.toLowerCase())})):e}},mutations:{setBoards:function(t,e){var s=e.foundBoards;t.boards=s},setBoard:function(t,e){var s=e.board;t.currBoard=s},setGroup:function(t,e){var s=e.groupId,r=t.currBoard.groups.find((function(t){return t.id===s}));r&&(t.currGroup=r)},setTask:function(t,e){var s=e.taskId;t.currBoard.groups.forEach((function(e){var r=e.task.find((function(t){return t.id===s}));r&&(t.currGroup=e)}));var r=t.currGroup.task.find((function(t){return t.id===s}));r&&(t.currTask=r)},setLabelsFilter:function(t,e){var s=e.filterTxt;t.labelFilter=s},setMembersFilter:function(t,e){var s=e.filterTxt;t.membersFilter=s}},actions:{loadBoards:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e){var s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e.commit,t.prev=1,t.next=4,Bt.query(!0);case 4:r=t.sent,s({type:"setBoards",foundBoards:r}),t.next=12;break;case 8:throw t.prev=8,t.t0=t["catch"](1),console.log("Error loading boards"),t.t0.message;case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e){return t.apply(this,arguments)}return e}(),getBoard:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e,s){var r,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,i=s.boardId,t.prev=2,t.next=5,Bt.getById(i);case 5:a=t.sent,r({type:"setBoard",board:a}),t.next=13;break;case 9:throw t.prev=9,t.t0=t["catch"](2),console.log("Error loading your board",t.t0),t.t0.message;case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));function e(e,s){return t.apply(this,arguments)}return e}(),updateBoard:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e,s){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=s.editedBoard,t.prev=1,e.commit({type:"setBoard",board:r}),t.next=5,Bt.save(r);case 5:t.next=11;break;case 7:throw t.prev=7,t.t0=t["catch"](1),console.log("error saving board changes",t.t0.message),t.t0.message;case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));function e(e,s){return t.apply(this,arguments)}return e}(),newBoard:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e,s){var r,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,i=s.loggedUser,t.prev=2,t.next=5,Bt.addBoard(i);case 5:return t.next=7,Bt.query();case 7:a=t.sent,r({type:"setBoards",boards:a}),t.next=15;break;case 11:throw t.prev=11,t.t0=t["catch"](2),console.log("Adding new board: Error",t.t0),t.t0.message;case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));function e(e,s){return t.apply(this,arguments)}return e}(),removeBoard:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e,s){var r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,Bt.remove(s.boardId);case 4:return t.next=6,Bt.query();case 6:i=t.sent,r({type:"setBoards",boards:i}),t.next=13;break;case 10:throw t.prev=10,t.t0=t["catch"](1),t.t0.message;case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));function e(e,s){return t.apply(this,arguments)}return e}()}};n["default"].use(vi["a"]);var Mi=new vi["a"].Store({strict:!0,modules:{userStore:Oi,socketStore:Pi,boardStore:$i},state:{},mutations:{},actions:{}}),Ui=(s("2fb4"),s("5c96")),Ni=s.n(Ui),Ri=s("b2d6"),Di=s.n(Ri),Li=(s("0fae"),s("5b6c")),Ji=s.n(Li),Gi=s("3f9d");s("3294");n["default"].use(Gi["a"]),n["default"].use(Ji.a),n["default"].use(Ni.a,{locale:Di.a}),n["default"].config.productionTip=!1,new n["default"]({router:gi,store:Mi,draggable:Ve.a,render:function(t){return t(G)}}).$mount("#app")},"5d44":function(t,e,s){t.exports=s.p+"img/template1.cd76ba22.jpg"},"66f7":function(t,e,s){t.exports=s.p+"img/template2.55e97ca9.jpg"},"8cd9":function(t,e,s){t.exports=s.p+"img/template8.ac2d5ace.jpg"},"91cd":function(t,e,s){t.exports=s.p+"img/template0.38e61052.jpg"},"971c":function(t,e,s){t.exports=s.p+"img/template3.3d4a2a9d.jpg"},ca47:function(t,e,s){var r={"./template0.jpg":"91cd","./template1.jpg":"5d44","./template2.jpg":"66f7","./template3.jpg":"971c","./template4.jpg":"51ad","./template5.jpg":"3c29","./template6.jpg":"eafa","./template7.jpg":"2e1d","./template8.jpg":"8cd9"};function i(t){var e=a(t);return s(e)}function a(t){if(!s.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}i.keys=function(){return Object.keys(r)},i.resolve=a,t.exports=i,i.id="ca47"},eafa:function(t,e,s){t.exports=s.p+"img/template6.7419db71.jpg"}});
//# sourceMappingURL=app.563a99e2.js.map